(self.webpackChunkcarolus=self.webpackChunkcarolus||[]).push([[34],{85874:function(t,e,n){var o={"./all_checkbox_controller.js":2836,"./auto_dismiss_controller.js":88675,"./auto_redirect_controller.js":1453,"./content_annotator_controller.js":98440,"./discussion_controller.js":79985,"./filter_toggle_controller.js":49915,"./getting_started_modal_controller.js":4717,"./highlighter_controller.js":92303,"./max_options_controller.js":57158,"./paywall_obfuscation_controller.js":71049,"./player_cinema_mode_controller.js":10126,"./player_controller.js":17621,"./search_controller.js":13904,"./sidebar_controller.js":36773,"./sidebar_group_controller.js":8966,"./sidebar_groups_controller.js":24495,"./site_search_controller.js":73525,"./tabber_controller.js":33733,"./turbo_frame_history_controller.js":76908,"./turbo_frame_history_popstate_controller.js":81707,"application/controllers/all_checkbox_controller.js":2836,"application/controllers/auto_dismiss_controller.js":88675,"application/controllers/auto_redirect_controller.js":1453,"application/controllers/content_annotator_controller.js":98440,"application/controllers/discussion_controller.js":79985,"application/controllers/filter_toggle_controller.js":49915,"application/controllers/getting_started_modal_controller.js":4717,"application/controllers/highlighter_controller.js":92303,"application/controllers/max_options_controller.js":57158,"application/controllers/paywall_obfuscation_controller.js":71049,"application/controllers/player_cinema_mode_controller.js":10126,"application/controllers/player_controller.js":17621,"application/controllers/search_controller.js":13904,"application/controllers/sidebar_controller.js":36773,"application/controllers/sidebar_group_controller.js":8966,"application/controllers/sidebar_groups_controller.js":24495,"application/controllers/site_search_controller.js":73525,"application/controllers/tabber_controller.js":33733,"application/controllers/turbo_frame_history_controller.js":76908,"application/controllers/turbo_frame_history_popstate_controller.js":81707};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=85874},12071:function(t,e,n){"use strict";t.exports=n.p+"media/images/105d15ea9a67abf9bd43.svg"},59703:function(t,e,n){"use strict";t.exports=n.p+"media/images/8fc8ce7031dee621c973.svg"},95672:function(t,e,n){"use strict";t.exports=n.p+"media/images/443aed40f76450b29760.png"},74277:function(t,e,n){"use strict";t.exports=n.p+"media/images/05f6eb360aedcafac3bf.svg"},36223:function(t,e,n){"use strict";t.exports=n.p+"media/images/f10894d3e01cb56b9e6a.svg"},12297:function(t,e,n){"use strict";t.exports=n.p+"media/images/17386267e6db229b091e.svg"},86106:function(t,e,n){"use strict";t.exports=n.p+"media/images/b21a0e26e5b2044f1e13.svg"},24643:function(t,e,n){"use strict";t.exports=n.p+"media/images/ceec7527d098aa1d526e.svg"},92104:function(t,e,n){"use strict";t.exports=n.p+"media/images/b307bd4971aea151e631.svg"},10409:function(t,e,n){"use strict";t.exports=n.p+"media/images/c460067d5f59b2828029.svg"},58582:function(t,e,n){"use strict";t.exports=n.p+"media/images/f315ce6473a94c231bf0.svg"},40798:function(t,e,n){"use strict";t.exports=n.p+"media/images/3c836a5019105c13d3af.svg"},32946:function(t,e,n){"use strict";t.exports=n.p+"media/images/d41c1d9090d4fc22177e.svg"},34078:function(t,e,n){"use strict";t.exports=n.p+"media/images/e955cef68ac52bc1bafe.svg"},27662:function(t,e,n){"use strict";t.exports=n.p+"media/images/8b3d885d729da32bf972.svg"},38269:function(t,e,n){"use strict";t.exports=n.p+"media/images/3b868ebb4927e3e8c400.svg"},99043:function(t,e,n){"use strict";t.exports=n.p+"media/images/3feaca83f4e8962f645f.svg"},87936:function(t,e,n){"use strict";t.exports=n.p+"media/images/c6650df767b4c612deab.svg"},77175:function(t,e,n){"use strict";t.exports=n.p+"media/images/e7f4ab25ad727533b828.svg"},37610:function(t,e,n){"use strict";t.exports=n.p+"media/images/c41f0b94d0a5487bfc25.svg"},60002:function(t,e,n){"use strict";t.exports=n.p+"media/images/49d86da574009ac6ae46.svg"},83662:function(t,e,n){"use strict";t.exports=n.p+"media/images/62e1ee9164c2fc541d8f.svg"},42683:function(t,e,n){"use strict";t.exports=n.p+"media/images/50d60aa7b1a7586b72ee.svg"},52133:function(t,e,n){"use strict";t.exports=n.p+"media/images/46c0f8ff5785cc53ae4c.svg"},52893:function(t,e,n){"use strict";t.exports=n.p+"media/images/f15f0dcfbfb7bfdfa1e2.svg"},19704:function(t,e,n){"use strict";t.exports=n.p+"media/images/40f3b31cc09e41e80f04.svg"},96243:function(t,e,n){"use strict";t.exports=n.p+"media/images/f337bfbadcaf103a0ebe.svg"},38533:function(t,e,n){"use strict";t.exports=n.p+"media/images/fcfcbd7a51fe831554e9.svg"},49583:function(t,e,n){"use strict";t.exports=n.p+"media/images/a21a9d4632f9c3014134.svg"},57086:function(t,e,n){"use strict";t.exports=n.p+"media/images/1e20ad46e501457a1543.svg"},46857:function(t,e,n){"use strict";t.exports=n.p+"media/images/c5e091816dd4af9bf781.svg"},6665:function(t,e,n){"use strict";t.exports=n.p+"media/images/d66b6ad7aab3cc29d70a.svg"},2379:function(t,e,n){"use strict";t.exports=n.p+"media/images/ad122ce60a4e982cc214.svg"},62041:function(t,e,n){"use strict";t.exports=n.p+"media/images/b45cf2b607d105b8648b.svg"},91240:function(t,e,n){"use strict";t.exports=n.p+"media/images/f1c3cf18d719a665fdbb.svg"},37815:function(t,e,n){"use strict";t.exports=n.p+"media/images/23af706922f52b8c62b8.svg"},19451:function(t,e,n){"use strict";t.exports=n.p+"media/images/75863e9b90a5f96611b4.svg"},61860:function(t,e,n){"use strict";t.exports=n.p+"media/images/802e29f76e19af41ec50.svg"},85933:function(t,e,n){"use strict";t.exports=n.p+"media/images/031e3499890da30253d5.svg"},94098:function(t,e,n){"use strict";t.exports=n.p+"media/images/0c368fdd428afe071a36.svg"},13841:function(t,e,n){"use strict";t.exports=n.p+"media/images/4fd0e89a938cdd5f9aed.svg"},24424:function(t,e,n){"use strict";t.exports=n.p+"media/images/bff0c27b6bcd430e1c22.svg"},77961:function(t,e,n){"use strict";t.exports=n.p+"media/images/fa1aa2a6b35b7f34ee01.svg"},81342:function(t,e,n){"use strict";t.exports=n.p+"media/images/5703f9256d5a173672ad.svg"},32647:function(t,e,n){"use strict";t.exports=n.p+"media/images/2f239c612e2d756e503b.svg"},63441:function(t,e,n){"use strict";t.exports=n.p+"media/images/f240832ecd28a373c633.svg"},73191:function(t,e,n){"use strict";t.exports=n.p+"media/images/c98df057176edaeb9cbb.png"},88462:function(t,e,n){"use strict";t.exports=n.p+"media/images/7844dc8134f0ae64f643.png"},41600:function(t,e,n){"use strict";t.exports=n.p+"media/images/7a6a05901ef6a03bfaf1.png"},69069:function(t,e,n){"use strict";t.exports=n.p+"media/images/1711b5a319eefe8fcfa0.svg"},42426:function(t,e,n){"use strict";t.exports=n.p+"media/images/bf9ce8c1ce88843caddd.svg"},93513:function(t,e,n){"use strict";t.exports=n.p+"media/images/5cb4be96dbb55e98039f.svg"},88467:function(t,e,n){"use strict";t.exports=n.p+"media/images/ffd0e553c44c6b070030.svg"},15372:function(t,e,n){"use strict";t.exports=n.p+"media/images/fc26fe7b4b0f24451416.svg"},33609:function(t,e,n){"use strict";t.exports=n.p+"media/images/1538b31bfee8c31f0392.svg"},45074:function(t,e,n){"use strict";t.exports=n.p+"media/images/81bc23cc08246a12b7a4.svg"},84532:function(t,e,n){"use strict";t.exports=n.p+"media/images/5bb28edc3f5e172edd8e.svg"},34381:function(t,e,n){"use strict";t.exports=n.p+"media/images/16ffb33ffa2e512ab954.svg"},23075:function(t,e,n){"use strict";t.exports=n.p+"media/images/30f0b37c555876c42f59.svg"},53837:function(t,e,n){"use strict";t.exports=n.p+"media/images/ae0751b06a9a4857e3a8.svg"},43999:function(t,e,n){"use strict";t.exports=n.p+"media/images/1c1f2bf4633b131bafc9.svg"},22337:function(t,e,n){"use strict";t.exports=n.p+"media/images/e47ff7e96717f033b025.svg"},34441:function(t,e,n){"use strict";t.exports=n.p+"media/images/2aa42e6b7a344e84e8db.svg"},54415:function(t,e,n){"use strict";t.exports=n.p+"media/images/779a1d2962524d934ff9.svg"},4998:function(t,e,n){"use strict";t.exports=n.p+"media/images/8b9d7c5f002c5f604651.svg"},9006:function(t,e,n){"use strict";t.exports=n.p+"media/images/60c96f8692ef0228565c.svg"},99331:function(t,e,n){"use strict";t.exports=n.p+"media/images/2a81c1c3aacf9c13423e.svg"},68785:function(t,e,n){"use strict";t.exports=n.p+"media/images/b676775e23af51e3ce1e.svg"},63742:function(t,e,n){"use strict";t.exports=n.p+"media/images/96c49da992538c0c584a.svg"},90980:function(t,e,n){"use strict";t.exports=n.p+"media/images/80d30395c73d1d52952e.svg"},35863:function(t,e,n){"use strict";t.exports=n.p+"media/images/c20cc729880a84a3d1c5.png"},69754:function(t,e,n){"use strict";t.exports=n.p+"media/images/dfd734f0a598af07fd44.svg"},74606:function(t,e,n){"use strict";t.exports=n.p+"media/images/77cbd2ac87a898d3ea2c.svg"},56379:function(t,e,n){"use strict";t.exports=n.p+"media/images/6596fde302ecb8f69d96.svg"},70797:function(t,e,n){"use strict";t.exports=n.p+"media/images/f0cc186e10c474e5ae76.png"},44813:function(t,e,n){"use strict";t.exports=n.p+"media/images/108f2f239474ce7efac9.svg"},59741:function(t,e,n){"use strict";t.exports=n.p+"media/images/75c8c3cb965171fe1ad0.png"},32875:function(t,e,n){"use strict";t.exports=n.p+"media/images/062169ef003b8086c1ac.png"},80931:function(t,e,n){"use strict";t.exports=n.p+"media/images/352612fdb280a11d6225.svg"},32161:function(t,e,n){"use strict";t.exports=n.p+"media/images/55953b2402958d319d8f.svg"},20086:function(t,e,n){"use strict";t.exports=n.p+"media/images/8374c81666d6e3eea05c.svg"},86766:function(t,e,n){"use strict";t.exports=n.p+"media/images/00eed9940a51c46b1e5f.svg"},36545:function(t,e,n){"use strict";t.exports=n.p+"media/images/5f37be7e4febaca1c266.svg"},60565:function(t,e,n){"use strict";t.exports=n.p+"media/images/4d58d994722ed51cc576.svg"},59723:function(t,e,n){"use strict";t.exports=n.p+"media/images/2e63a29a3b89eb25a142.svg"},37604:function(t,e,n){"use strict";t.exports=n.p+"media/images/637add9d0cc3194865ac.svg"},92509:function(t,e,n){"use strict";t.exports=n.p+"media/images/7a2418b63dabbc734ebb.svg"},93929:function(t,e,n){"use strict";t.exports=n.p+"media/images/fa9d42645d7197a08ad2.svg"},58766:function(t,e,n){"use strict";t.exports=n.p+"media/images/a7d775a3a6b714dc5939.svg"},75914:function(t,e,n){"use strict";t.exports=n.p+"media/images/8d637d5d3b8e1a20e120.svg"},19611:function(t,e,n){"use strict";t.exports=n.p+"media/images/a866bbb321baf2eccecf.svg"},47892:function(t,e,n){"use strict";t.exports=n.p+"media/images/5527a65c61b8dbdd3e7a.png"},36388:function(t,e,n){"use strict";t.exports=n.p+"media/images/c9111cc2e132daeb9554.svg"},72886:function(t,e,n){"use strict";t.exports=n.p+"media/images/3d65e0a1b3902b58deb4.svg"},75609:function(t,e,n){"use strict";t.exports=n.p+"media/images/864735f1aec8da81b8a9.svg"},86209:function(t,e,n){"use strict";t.exports=n.p+"media/images/f4b8632eb9bf9e4a3855.png"},1242:function(t,e,n){"use strict";t.exports=n.p+"media/images/126e27fefa4686353737.svg"},96710:function(t,e,n){"use strict";t.exports=n.p+"media/images/801a53724abed1ff8c78.png"},10913:function(t,e,n){"use strict";t.exports=n.p+"media/images/b3141d1050c936a4e0a7.svg"},5167:function(t,e,n){"use strict";t.exports=n.p+"media/images/285bbfbbe0a6f7da370c.svg"},34364:function(t,e,n){"use strict";t.exports=n.p+"media/images/20c811980af1df0827e0.svg"},69216:function(t,e,n){var o={"./account-advert-rabbit.svg":12071,"./android-pillar--no-shadow.svg":59703,"./basketball-player@2x.png":95672,"./black-friday-2021-artwork.svg":74277,"./code-card-layout.svg":36223,"./coffee-cup.svg":12297,"./contributions-empty-background.svg":86106,"./contributions-empty-foreground.svg":24643,"./contributions-empty.svg":92104,"./create-account-scene.svg":10409,"./create-account-scene_archive.svg":58582,"./cyber-monday-2021-artwork.svg":40798,"./database-mascot.svg":32946,"./desk.svg":34078,"./devices-outline.svg":27662,"./email-layout.svg":38269,"./file-mascot-2.svg":99043,"./file-mascot-3.svg":87936,"./file-mascot-all.svg":77175,"./file-mascot.svg":37610,"./flutter-logo.svg":60002,"./illustration-android-app.svg":83662,"./illustration-android-path-1.svg":42683,"./illustration-android-path-2.svg":52133,"./illustration-android-platform.svg":52893,"./illustration-basketball.svg":19704,"./illustration-black-friday-circuit-board-pink.svg":96243,"./illustration-chart.svg":38533,"./illustration-cyber-monday-circuit-board-green.svg":49583,"./illustration-cyber-monday-circuit-board-pink.svg":57086,"./illustration-desk-items.svg":46857,"./illustration-device-path.svg":6665,"./illustration-flutter-path-1.svg":2379,"./illustration-flutter-path-2.svg":62041,"./illustration-flutter-platform.svg":91240,"./illustration-home-footer.svg":37815,"./illustration-home-hero.svg":19451,"./illustration-ios-app.svg":61860,"./illustration-ios-apprentice.svg":85933,"./illustration-ios-path-1.svg":94098,"./illustration-ios-path-2.svg":13841,"./illustration-ios-platform.svg":24424,"./illustration-onboarding-video.svg":77961,"./illustration-paths.svg":81342,"./illustration-pro-items.svg":32647,"./illustration-server-side-swift-platform.svg":63441,"./illustration-spring-ahead-flowers.png":73191,"./illustration-spring-ahead-mosaic.png":88462,"./illustration-spring-ahead-row.png":41600,"./illustration-subscription-header.svg":69069,"./illustration-teaspoon-promotion-banner--left.svg":42426,"./illustration-teaspoon-promotion-banner--right.svg":93513,"./illustration-unity-path-1.svg":88467,"./illustration-unity-path-2.svg":15372,"./illustration-unity-platform.svg":33609,"./illustration-video-collection-pro.svg":45074,"./illustration-video-collection.svg":84532,"./illustration-video-pro.svg":34381,"./interests-layout.svg":23075,"./ipad-layout.svg":53837,"./keyboard-angle.svg":43999,"./keyboard-coffee-layout.svg":22337,"./keyboard.svg":34441,"./library-yeti.svg":54415,"./mobile-app-advert.svg":4998,"./newsletter-advert-green.svg":9006,"./newsletter-advert.svg":99331,"./no-results-yeti.svg":68785,"./notebook.svg":63742,"./onboarding-android-icon.svg":90980,"./onboarding-android-icon@2x.png":35863,"./onboarding-apple-icon.svg":69754,"./onboarding-flutter-icon.svg":74606,"./onboarding-sss-icon.svg":56379,"./onboarding-swift-icon@2x.png":70797,"./onboarding-unity-icon.svg":44813,"./onboarding-unity-icon@2x.png":59741,"./onboarding-unreal-engine-icon@2x.png":32875,"./path-android-hero.svg":80931,"./path-android-success.svg":32161,"./path-ios-hero.svg":20086,"./path-ios-success.svg":86766,"./path-server-side-swift-hero.svg":36545,"./path-server-side-swift-success.svg":60565,"./path-unity-hero.svg":59723,"./path-unity-success.svg":37604,"./path-unreal-engine-hero.svg":92509,"./path-unreal-engine-success.svg":93929,"./phone-mascot--account.svg":58766,"./phone-mascot--newsletter.svg":75914,"./phone-mascot--subscribe.svg":19611,"./pro-subscription-box@2x.png":47892,"./safe.svg":36388,"./server-side-swift-database.svg":72886,"./skeleton-layout.svg":75609,"./subscription-box@2x.png":86209,"./subscription-computer.svg":1242,"./teamwork@2x.png":96710,"./unity-vr.svg":10913,"./unreal-engine-ray-gun.svg":5167,"./workdesk.svg":34364};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=69216},9391:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=9391,t.exports=e},8227:function(t){t.exports={props:{loading:{type:Boolean,default:!1},onSearch:{type:Function,default:function(t,e){}}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.search.length>0&&(this.onSearch(this.search,this.toggleLoading),this.$emit("search",this.search,this.toggleLoading))},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}}},95157:function(t){t.exports={watch:{typeAheadPointer:function(){this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var t=this.pixelsToPointerTop(),e=this.pixelsToPointerBottom();return t<=this.viewport().top?this.scrollTo(t):e>=this.viewport().bottom?this.scrollTo(this.viewport().top+this.pointerHeight()):null},pixelsToPointerTop:function(){var t=0;if(this.$refs.dropdownMenu)for(var e=0;e<this.typeAheadPointer;e+=1)t+=this.$refs.dropdownMenu.children[e].offsetHeight;return t},pixelsToPointerBottom:function(){return this.pixelsToPointerTop()+this.pointerHeight()},pointerHeight:function(){var t=!!this.$refs.dropdownMenu&&this.$refs.dropdownMenu.children[this.typeAheadPointer];return t?t.offsetHeight:0},viewport:function(){return{top:this.$refs.dropdownMenu?this.$refs.dropdownMenu.scrollTop:0,bottom:this.$refs.dropdownMenu?this.$refs.dropdownMenu.offsetHeight+this.$refs.dropdownMenu.scrollTop:0}},scrollTo:function(t){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.scrollTop=t:null}}}},89944:function(t){t.exports={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){this.typeAheadPointer=0}},methods:{typeAheadUp:function(){this.typeAheadPointer>0&&(this.typeAheadPointer-=1,this.maybeAdjustScroll&&this.maybeAdjustScroll())},typeAheadDown:function(){this.typeAheadPointer<this.filteredOptions.length-1&&(this.typeAheadPointer+=1,this.maybeAdjustScroll&&this.maybeAdjustScroll())},typeAheadSelect:function(){this.filteredOptions[this.typeAheadPointer]?this.select(this.filteredOptions[this.typeAheadPointer]):this.taggable&&this.search.length&&this.select(this.search),this.clearSearchOnSelect&&(this.search="")}}}},2836:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"initialize",value:function(){this.otherTargets.some((function(t){return t.checked}))?this.allTarget.checked=!1:this.allTarget.checked=!0}},{key:"all",value:function(){if(this.allTarget.checked){this.otherTargets.forEach((function(t){t.checked=!1}));var t=new CustomEvent("form-updated");window.dispatchEvent(t)}else this.allTarget.checked=!0}},{key:"other",value:function(){this.otherTargets.some((function(t){return t.checked}))?this.allTarget.checked=!1:this.allTarget.checked=!0}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["all","other"]},88675:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){var t=this;setTimeout((function(){return t.dismiss()}),1e4)}},{key:"dismiss",value:function(){this.element.remove()}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr)},1453:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var o=n(67931),r=n(79295);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,o,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this;this.hasSecondsValue&&this.hasUrlValue&&setTimeout((function(){return r.P.visit(t.urlValue)}),1e3*this.secondsValue)}}])&&s(e.prototype,n),o&&s(e,o),u}(o.Qr);d.values={seconds:Number,url:String},d.targets=["modal"]},98440:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return j}});var o=n(67931),r=n(95909);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.accessCache={}}var e,n,o;return e=t,(n=[{key:"updateDOMWithUserAccess",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.requiredContentIds(e);0!=n.length&&window.CAROLUS_ENV.USER_TOKEN&&this.requestAccessForContentIds(n).then((function(e){return t.updateCache(e)})).then((function(){return t.updateUI(e)})).catch((function(t){401!==t.code&&console.error(t)}))}},{key:"requiredContentIds",value:function(t){var e=this;return Array.from((t||document).querySelectorAll("[data-track-access-content-id]")).map((function(t){return e.accessCache[t.dataset.trackAccessContentId]=!1,t.dataset.trackAccessContentId}))}},{key:"cacheMissContentIds",value:function(t){var e=this;return t.filter((function(t){return!Object.keys(e.accessCache).includes(t)}))}},{key:"updateCache",value:function(t){var e=this;t.forEach((function(t){var n=!1;t.access&&(n=!0),e.accessCache[t.content_id.toString()]=n}))}},{key:"updateUI",value:function(t){var e=this;Array.from((t||document).querySelectorAll("[data-track-access-content-id]")).forEach((function(t){var n=t.dataset.trackAccessContentId,o=t.dataset.accessClass;e.accessCache[n]?t.classList.remove(o):t.classList.add(o)}))}},{key:"requestAccessForContentIds",value:function(t){return new Promise((function(e,n){Rails.ajax({url:"/permissions/access",type:"GET",data:(0,r.Z)({content_ids:t}),success:function(t){e(t)},error:function(t,e,o){401===o.status?n({code:401}):n({code:null,payload:t})}})}))}}])&&i(e.prototype,n),o&&i(e,o),t}(),a=n(29059),l=n(97463),c=n(20633),u=n(86232),d=n(20144),f=n(58351),h=n.n(f),p=n(35030),g=n(91099),m=d.Z.extend({name:"Context",props:{text:{required:!0,type:String},annotations:{required:!0,type:Array}},data:function(){return{html:this.text}},watch:{annotations:{handler:function(){this.redrawAnnotations()},deep:!0}},mounted:function(){this.redrawAnnotations()},methods:{click:function(t){var e=t.target.closest("mark.o-fragment--annotation");e&&this.$emit("open",parseInt(e.dataset.annotationId))},redrawAnnotations:function(){var t=this;this.html=this.text,this.annotations.forEach((function(e){t.addAnnotationElement(e)})),this.$nextTick((function(){return(0,g.a)(t.$refs.context)}))},addAnnotationElement:function(t){var e=this.$refs.context.innerText.substring(0,t.start),n=e.split("\n").length-1,o=t.start-e.lastIndexOf("\n")-1,r=this.$refs.context.innerText.substring(0,t.end),i=r.split("\n").length-1,s=t.end-r.lastIndexOf("\n")-1,a=["o-fragment--annotation","o-fragment--highlighter-".concat(t.colour),null!=t.note?"o-fragment--annotation-note":""].join(" ");this.html=(0,p.ZP)(this.html,'<mark data-annotation-id="'.concat(t.id,'" class="').concat(a,'">'),[n,o,i,s])}}}),v=n(51900),y=(0,v.Z)(m,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",{ref:"context",staticClass:"o-fragment--context",domProps:{innerHTML:t._s(t.html)},on:{mouseup:t.click}})}),[],!1,null,null,null).exports;function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=["yellow","orange","red","purple","blue","green"],k=d.Z.extend({name:"Tooltip",props:{annotation:{type:Object},colours:{type:Array,default:function(){return _}}},data:function(){return{note:this.annotation?this.annotation.note:null,showNoteEditor:!1}},watch:{annotation:{handler:function(){this.annotation?this.note=this.annotation.note:this.note=null},deep:!0}},computed:{annotationState:function(){return this.note?"note":this.annotation&&this.annotation.persisted?"highlight":this.annotation?"none":"hidden"},annotationStateHidden:function(){return"hidden"===this.annotationState},annotationStateNone:function(){return"none"===this.annotationState},annotationStateHighlight:function(){return"highlight"===this.annotationState},annotationStateNote:function(){return"note"===this.annotationState},dirty:function(){return this.annotation.note!==this.note},tooltipClass:function(){return{"o-fragment--tooltip-with-note":this.showNoteEditor,"o-fragment--tooltip":!this.showNoteEditor}},tooltipStyle:function(){if(this.annotationStateHidden)return"";var t=null,e=this.showNoteEditor?190:60,n=null;if(this.annotation&&this.annotation.id&&(n=document.querySelector('[data-annotation-id="'.concat(this.annotation.id,'"]'))),n)t=n.getBoundingClientRect();else{var o=document.getSelection();o&&o.toString().length>0&&(t=o.getRangeAt(0).getBoundingClientRect())}if(t){var r=this.$parent.$el.getBoundingClientRect(),i=t.y-r.y-e,s=t.x-r.x+t.width/2;return"top: ".concat(i,"px; left: ").concat(s,"px;")}return""},noteActionClass:function(){return this.annotationStateNote?"l-button__svg-22 o-button__svg--highlighter-".concat(this.annotation.colour):"l-button__svg-22 o-button__svg--white"}},methods:{classesForColour:function(t){var e;return b(e={"o-tooltip__color":!0},"o-tooltip__color--".concat(t),!0),b(e,"o-tooltip__color--selected",this.annotation.colour===t),e},handleColourClick:function(t){this.annotationStateNone?this.createAnnotation(t):this.annotationStateHighlight&&this.annotation.colour===t?this.removeAnnotation():this.annotation.colour!==t&&this.updateAnnotationColour(t)},toggleShowNoteEditor:function(){this.showNoteEditor=!this.showNoteEditor,this.showNoteEditor&&null===this.annotation.note&&this.$emit("addNote")},createAnnotation:function(t){this.$emit("createAnnotation",t)},updateAnnotationColour:function(t){this.$emit("updateAnnotationColour",t)},removeAnnotation:function(){this.$emit("removeAnnotation")},updateNote:function(){this.$emit("updateNote",this.note)},removeNote:function(){this.$emit("updateNote",null),this.showNoteEditor=!1}}}),C=(0,v.Z)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.annotationStateHidden?t._e():n("span",{class:t.tooltipClass,style:t.tooltipStyle},[t.showNoteEditor?n("span",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],staticClass:"o-fragment--tooltip-textarea",attrs:{placeholder:"Type your note here..."},domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}}),t._v(" "),n("div",{staticClass:"o-fragment__actions"},[n("span",{staticClass:"o-fragment__action o-fragment--tooltip-remove",on:{click:function(e){return t.removeNote()}}},[t._v("Remove")]),t._v(" "),t.dirty?n("span",{staticClass:"o-fragment__action o-fragment--tooltip-save",on:{click:function(e){return t.updateNote()}}},[t._v("Save")]):n("span",{staticClass:"o-fragment__action o-fragment--tooltip-save",on:{click:function(e){return t.toggleShowNoteEditor()}}},[t._v("Close")])])]):n("span",[t._l(t.colours,(function(e){return n("span",{key:e,on:{click:function(n){return t.handleColourClick(e)}}},[n("span",{class:t.classesForColour(e)})])})),t._v(" "),t.annotationStateHighlight||t.annotationStateNote?n("span",{staticClass:"l-margin-left-10 o-tooltip__action",on:{click:function(e){return t.removeAnnotation()}}},[n("span",[n("svg",{staticClass:"o-button__svg--white"},[n("title",[t._v("Remove")]),n("use",{attrs:{"xlink:href":"#bin"}})])])]):t._e(),t._v(" "),t.annotationStateHighlight||t.annotationStateNote?n("span",{staticClass:"o-tooltip__action l-padding-right-0",on:{click:function(e){return t.toggleShowNoteEditor()}}},[n("svg",{class:t.noteActionClass},[n("title",[t._v("Add Note")]),n("use",{attrs:{"xlink:href":"#speech-bubble"}})])]):t._e()],2)])}),[],!1,null,null,null).exports,w=d.Z.extend({name:"Fragment",props:{elementId:{type:String},elementName:{required:!0,type:String},text:{required:!0,type:String},contentId:{required:!0,type:String},fragmentId:{required:!0,type:String},fragmentIndex:{required:!0,type:String},initialAnnotations:{required:!0,type:Array},annotationEnabled:{required:!0,type:Boolean}},data:function(){return{annotations:this.parseInitialAnnotations(),selectedAnnotation:null,networkOperationInProgress:!1}},mounted:function(){var t=this;c.N.$on(u.v5,(function(e){if(t.fragmentId===e){var n=h().save(t.$refs.context.$el);n&&n.content.length>0&&t.select(n)}else t.fragmentId!==e&&(t.selectedAnnotation=null)})),c.N.$on(u.YY,(function(e,n,o){e!==t&&(t.fragmentId===n&&(t.annotations.find((function(t){return t.id===o.id})).note=o.note))})),c.N.$on(u.bx,(function(e,n,o){e!==t&&t.fragmentId===n&&(t.selectedAnnotation&&t.selectedAnnotation.id===o&&(t.selectedAnnotation=null),t.annotations=t.annotations.filter((function(t){return t.id!==o})))}))},methods:{parseInitialAnnotations:function(){return this.initialAnnotations.map((function(t){return{id:t.id,start:t.start_index,end:t.end_index,text:t.text,note:t.note,persisted:!0,colour:t.colour}}))},select:function(t){var e={start:t.start,end:t.end,text:t.content,note:null,persisted:!1,colour:null};this.selectedAnnotation=e},open:function(t){this.selectedAnnotation=this.annotations.find((function(e){return e.id===t}))},checkInteractionAllowed:function(){return!!this.annotationEnabled||(c.N.$emit(u.Hn,"highlighting-notes-paywall"),!1)},createAnnotation:function(t){var e=this;if(this.checkInteractionAllowed()&&!this.networkOperationInProgress){this.networkOperationInProgress=!0;var n=h().save(this.$refs.context.$el);this.select(n);var o=new FormData;o.append("annotation[content_id]",this.contentId),o.append("annotation[fragment_id]",this.fragmentId),o.append("annotation[fragment_index]",this.fragmentIndex),o.append("annotation[start_index]",this.selectedAnnotation.start),o.append("annotation[end_index]",this.selectedAnnotation.end),o.append("annotation[text]",this.selectedAnnotation.text),o.append("annotation[context]",this.text),o.append("annotation[colour]",t),Rails.ajax({url:"/annotations",type:"POST",data:o,complete:function(){e.networkOperationInProgress=!1},success:function(t){e.selectedAnnotation.id=t.id,e.selectedAnnotation.persisted=!0,e.selectedAnnotation.colour=t.colour,e.annotations.push(e.selectedAnnotation)}})}},updateAnnotation:function(t,e){var n=this;if(this.checkInteractionAllowed()&&!this.networkOperationInProgress){this.networkOperationInProgress=!0;var o=e!==this.selectedAnnotation.colour,r=new FormData;r.append("annotation[content_id]",this.contentId),null!=t&&r.append("annotation[note]",t),null!=e&&r.append("annotation[colour]",e),Rails.ajax({url:"/annotations/".concat(this.selectedAnnotation.id),type:"PUT",data:r,complete:function(){n.networkOperationInProgress=!1},success:function(e){n.selectedAnnotation.note=t,n.selectedAnnotation.colour=e.colour,o||(null===t?c.N.$emit(u.a7,"Your note has been removed.",!0):c.N.$emit(u.a7,"Your note has been updated.",!0),c.N.$emit(u.YY,n,n.selectedAnnotation.fragment_id,n.selectedAnnotation))}})}},removeAnnotation:function(){var t=this;this.checkInteractionAllowed()&&(this.networkOperationInProgress||(this.networkOperationInProgress=!0,Rails.ajax({url:"/annotations/".concat(this.selectedAnnotation.id),type:"DELETE",complete:function(){t.networkOperationInProgress=!1},success:function(){t.annotations=t.annotations.filter((function(e){return e.id!==t.selectedAnnotation.id})),c.N.$emit(u.bx,t,t.selectedAnnotation.fragment_id,t.selectedAnnotation.id),t.selectedAnnotation=null}})))},addNote:function(){this.checkInteractionAllowed()&&(this.selectedAnnotation.note="")},updateNote:function(t){this.checkInteractionAllowed()&&this.updateAnnotation(t,this.selectedAnnotation.colour)},updateAnnotationColour:function(t){this.checkInteractionAllowed()&&this.updateAnnotation(this.selectedAnnotation.note,t)}},components:{Context:y,Tooltip:C}}),S=(0,v.Z)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.elementName,{tag:"component",staticClass:"o-fragment",attrs:{id:t.elementId,"data-fragment-id":t.fragmentId}},[n("Tooltip",{attrs:{annotation:t.selectedAnnotation},on:{createAnnotation:t.createAnnotation,updateAnnotationColour:t.updateAnnotationColour,removeAnnotation:t.removeAnnotation,addNote:t.addNote,updateNote:t.updateNote}}),n("Context",{ref:"context",attrs:{text:t.text,annotations:t.annotations},on:{open:t.open}})],1)}),[],!1,null,null,null).exports;function x(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var T=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.annotationCache={}}var e,n,o;return e=t,(n=[{key:"updateDOMWithFragments",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.requiredContentId(e);n&&(window.CAROLUS_ENV.USER_TOKEN?this.requestAnnotationsForContentId(n).then((function(){return t.mountFragments(e)})):this.mountFragments(e,!1),this.setSelectionChangeListener())}},{key:"setSelectionChangeListener",value:function(){var t=this,e=!1;document.addEventListener("mouseup",(function(n){if(n.target){var o=n.target;e=!!o.closest(".o-fragment--tooltip")||!!o.closest(".o-fragment--tooltip-with-note")}var r=t.findSelectedFragment();r&&c.N.$emit(u.v5,r.dataset.fragmentId)})),document.addEventListener("selectionchange",(function(){null!=t.findSelectedFragment()||e||c.N.$emit(u.v5,null)}))}},{key:"findSelectedFragment",value:function(){var t=document.getSelection();if(t&&"Caret"!==t.type&&t.toString().length>0){var e=t.anchorNode,n=t.focusNode;if(e&&n){var o=this.findFragment(e);if(o===this.findFragment(n))return o}}return null}},{key:"findFragment",value:function(t){return 1===t.nodeType?t.closest(".o-fragment"):t.parentElement?t.parentElement.closest(".o-fragment"):null}},{key:"requiredContentId",value:function(t){var e=(t||document).querySelector("[data-fragments-content-id]");return e?e.dataset.fragmentsContentId:null}},{key:"updateCache",value:function(t){var e=this;t.forEach((function(t){null==e.annotationCache[t.fragment_id.toString()]&&(e.annotationCache[t.fragment_id.toString()]=[]),e.annotationCache[t.fragment_id.toString()].push(t)}))}},{key:"mountFragments",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=Array.from((t||document).querySelectorAll("[data-fragment-id]"));o.forEach((function(t){var o=t.dataset.fragmentId,r=e.annotationCache[o]||[];new S({propsData:{elementId:t.id,elementName:t.localName,text:t.innerHTML.trim(),contentId:t.dataset.contentId,fragmentId:t.dataset.fragmentId,fragmentIndex:t.dataset.fragmentIndex,initialAnnotations:r,annotationEnabled:n}}).$mount(t)}))}},{key:"requestAnnotationsForContentId",value:function(t){var e=this;return new Promise((function(n,o){Rails.ajax({url:"/annotations",type:"GET",dataType:"json",accept:"json",data:(0,r.Z)({content_id:t}),complete:function(){n()},success:function(t){e.updateCache(t)}})}))}}])&&x(e.prototype,n),o&&x(e,o),t}();function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=I(t);if(e){var r=I(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return L(this,n)}}function L(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(i,t);var e,n,o,r=A(i);function i(){return O(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"connect",value:function(){var t=new s,e=new a.Z,n=new l.Z,o=new T;t.updateDOMWithUserAccess(this.element),e.updateDOMWithUserProgress(this.element),n.updateDOMWithBookmarks(this.element),o.updateDOMWithFragments(this.element)}}])&&P(e.prototype,n),o&&P(e,o),i}(o.Qr)},79985:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"initialize",value:function(){this.loaded=!1}},{key:"load",value:function(){if(!this.loaded&&this.hasContainerTarget&&this.hasButtonTarget){window.DiscourseEmbed=this.buttonTarget.dataset,this.containerTarget.innerHTML="";var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="".concat(window.DiscourseEmbed.discourseUrl,"javascripts/embed.js"),document.getElementsByTagName("head")[0].appendChild(t),this.loaded=!0}}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["container","button"]},49915:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var o=n(67931),r=n(4907);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,o,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.showFilter=null===(0,r.ej)("library-show-filter")||"true"===(0,r.ej)("library-show-filter"),this.showFilter?this.element.classList.add("c-library-filters--open"):this.element.classList.remove("c-library-filters--open")}},{key:"toggle",value:function(){(0,r.d8)("library-show-filter",!this.showFilter,{expires:"10Y"}),this.element.classList.toggle("c-library-filters--open")}},{key:"toggleMobile",value:function(){this.element.classList.toggle("c-library-filters--mobile-open")}}])&&s(e.prototype,n),o&&s(e,o),u}(o.Qr)},4717:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.autoshowValue&&this.show()}},{key:"show",value:function(){this.modalTarget.classList.remove("u-hide")}},{key:"close",value:function(){this.modalTarget.classList.add("u-hide")}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.values={autoshow:Boolean},c.targets=["modal"]},92303:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.element.innerHTML=this.highlightTerm(this.element.innerHTML)}},{key:"highlightTerm",value:function(t){if(!this.hasTermValue||this.termValue.length<2)return t;var e=t;return this.termValue.split(" ").forEach((function(t){if(t&&t.length>=2){var n=new RegExp("(<.+>.*)(".concat(t,")(.*</.+>)"),"gi");e=e.replace(n,'$1<mark class="highlight">$2</mark>$3')}})),e}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.values={term:String}},57158:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.tally()}},{key:"tally",value:function(){this.toggleOptions(),this.toggleSubmit()}},{key:"currentNumberOfSelectedOptions",value:function(){return this.optionTargets.filter((function(t){return t.checked})).length}},{key:"toggleSubmit",value:function(){this.currentNumberOfSelectedOptions()>0?(this.submitTarget.disabled=!1,this.submitTarget.classList.add("o-button--black"),this.submitTarget.classList.remove("o-button--disabled-svg")):(this.submitTarget.disabled=!0,this.submitTarget.classList.remove("o-button--black"),this.submitTarget.classList.add("o-button--disabled-svg"))}},{key:"toggleOptions",value:function(){this.currentNumberOfSelectedOptions()<this.maximumValue?this.optionTargets.forEach((function(t){return t.removeAttribute("disabled")})):this.optionTargets.filter((function(t){return!t.checked})).forEach((function(t){return t.setAttribute("disabled","disabled")}))}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["option","submit"],c.values={maximum:Number}},71049:function(t,e,n){"use strict";function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return d}});var d=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(u,t);var e,n,r,c=l(u);function u(){return i(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this;if(this.hasAllTargets()){var e=0;this.fragmentTargets.forEach((function(n){e%10===0&&t.containerTarget.insertBefore(t.template(),t.templateChildContaining(n)),e+=1}))}}},{key:"template",value:function(){return this.templateTarget.children[0].cloneNode(!0)}},{key:"hasAllTargets",value:function(){return this.hasContainerTarget&&this.hasFragmentTarget&&this.hasTemplateTarget}},{key:"templateChildContaining",value:function(t){return o(this.containerTarget.children).find((function(e){return e.contains(t)}))}}])&&s(e.prototype,n),r&&s(e,r),u}(n(67931).Qr);d.targets=["container","fragment","template"]},10126:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.cinemaModeSettingKey="video-player-cinema-mode",this.cinemaMode="true"===localStorage.getItem(this.cinemaModeSettingKey),this.setCinemaMode()}},{key:"setCinemaMode",value:function(){this.cinemaMode?this.cinemaModeOn():this.cinemaModeOff()}},{key:"toggleCinemaMode",value:function(){this.cinemaMode=!this.cinemaMode,localStorage.setItem(this.cinemaModeSettingKey,this.cinemaMode),this.setCinemaMode()}},{key:"cinemaModeOn",value:function(){this.outerContainerTarget.classList.add(this.enabledClass),this.innerContainerTarget.classList.remove("c-video-player__wrapper"),this.innerContainerTarget.classList.remove("l-block"),this.innerContainerTarget.classList.remove("l-block--1080")}},{key:"cinemaModeOff",value:function(){this.outerContainerTarget.classList.remove(this.enabledClass),this.innerContainerTarget.classList.add("c-video-player__wrapper"),this.innerContainerTarget.classList.add("l-block"),this.innerContainerTarget.classList.add("l-block--1080")}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["outerContainer","innerContainer"],c.classes=["enabled"]},17621:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var o=n(67931),r=n(48333),i=n(20633),s=n(86232),a=n(21692);function l(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var c=function(){function t(e){var n=e.element,o=e.contentId,r=e.videoId,i=e.elapsedTime,s=e.authToken,a=e.betamaxBaseUrl;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=null,this.contentId=null,this.authToken=null,this.betamaxBaseUrl=null,this.videoId=null,this.vimeoId=null,this.player=null,this.videoPlaybackToken=null,this.progressionTimer=null,this.progressionInterval=5,this.elapsedTime=0,this.totalTime=0,this.playbackRateSettingKey="video-player-playback-rate",this.playbackRate=localStorage.getItem(this.playbackRateSettingKey),this.qualitySettingKey="video-player-quality",this.quality=localStorage.getItem(this.qualitySettingKey),this.volumeSettingKey="video-player-volume",this.volume=localStorage.getItem(this.volumeSettingKey),this.textTrackLanguageSettingKey="video-player-text-track-language",this.textTrackLanguage=localStorage.getItem(this.textTrackLanguageSettingKey),this.ready=null,this.ended=null,this.loaded=null,this.element=n,this.contentId=o,this.videoId=r,this.elapsedTime=i,this.authToken=s,this.betamaxBaseUrl=a,this.resetCSRFToken(),this.getVideo()}var e,n,o;return e=t,(n=[{key:"play",value:function(){this.player&&(this.elapsedTime&&this.elapsedTime!=this.totalTime&&this.player.setCurrentTime(this.elapsedTime),this.player.play())}},{key:"pause",value:function(){this.player&&this.player.pause()}},{key:"load",value:function(){var t=this;this.player||(this.element.innerHTML="",this.player=new r.Z(this.element,{id:this.vimeoId,responsive:!0}),this.player.on("ended",(function(e){clearInterval(t.progressionTimer),t.progressionTimer=null,t.elapsedTime=t.totalTime,t.updateProgression(),t.ended&&t.ended()})),this.player.on("pause",(function(e){0===e.seconds&&(i.N.$emit(s.rB,"Your browser may have trouble autoplaying. Clicking the play button will eventually teach this browser to autoplay."),(0,a.q)("video_autoplay_fail","video")),clearInterval(t.progressionTimer),t.progressionTimer=null})),this.player.on("play",(function(e){clearInterval(t.progressionTimer),t.progressionTimer=setInterval((function(){return t.updateProgression()}),1e3*t.progressionInterval)})),this.player.on("timeupdate",(function(e){t.elapsedTime=e.seconds,t.totalTime=e.duration})),this.player.on("loaded",(function(e){t.loaded&&t.loaded(),t.playbackRate&&t.player.setPlaybackRate(t.playbackRate),t.quality&&t.player.setQuality(t.quality),t.volume&&t.player.setVolume(t.volume),t.textTrackLanguage?t.player.enableTextTrack(t.textTrackLanguage):t.player.disableTextTrack()})),this.player.on("playbackratechange",(function(e){localStorage.setItem(t.playbackRateSettingKey,e.playbackRate)})),this.player.on("qualitychange",(function(e){localStorage.setItem(t.qualitySettingKey,e.quality)})),this.player.on("volumechange",(function(e){localStorage.setItem(t.volumeSettingKey,e.volume)})),this.player.on("texttrackchange",(function(e){e.language?localStorage.setItem(t.textTrackLanguageSettingKey,e.language):localStorage.removeItem(t.textTrackLanguageSettingKey)})))}},{key:"unload",value:function(){clearInterval(this.progressionTimer),this.progressionTimer=null,this.player&&(this.player.destroy(),this.player=null)}},{key:"getVideo",value:function(){var t=this;Rails.ajax({url:"".concat(this.betamaxBaseUrl,"/videos/").concat(this.videoId,".json"),type:"GET",dataType:"json",success:function(e){t.vimeoId=e.video.clips[0].provider_id,t.getVideoPlaybackToken()},beforeSend:function(e){return e.setRequestHeader("Authorization","Token ".concat(t.authToken)),!0}})}},{key:"updateProgression",value:function(){var t=this;if(""!=this.authToken){var e=new FormData;e.append("progression[content_id]",this.contentId),e.append("progression[progress]",this.elapsedTime),e.append("watch_stat[content_id]",this.contentId),e.append("watch_stat[seconds]",this.progressionInterval),e.append("video_playback_token",this.videoPlaybackToken),Rails.ajax({url:"/progressions",type:"POST",data:e,dataType:"json",beforeSend:function(){return!0},error:function(e,n,o){"INVALID_TOKEN"===e.error?(t.videoPlaybackToken,t.player.pause(),i.N.$emit(s.ax,"You can only stream video on one device at a time. Press play to restart playback on this device.")):422===o.status&&t.resetCSRFToken()}})}}},{key:"getVideoPlaybackToken",value:function(){var t=this;""!=this.authToken?null==this.videoPlaybackToken&&Rails.ajax({url:"/contents/begin_playback",type:"POST",dataType:"json",success:function(e){t.videoPlaybackToken=e.video_playback_token,t.ready&&t.ready()},error:function(e,n,o){console.error("There was a problem acquiring the video playback token:\n".concat(e)),422===o.status&&t.resetCSRFToken()}}):this.ready&&this.ready()}},{key:"resetCSRFToken",value:function(){Rails.ajax({url:"/csrf_token",type:"GET",dataType:"json",success:function(t){t.csrf_token&&document.querySelector('meta[name="csrf-token"]').setAttribute("content",t.csrf_token)},beforeSend:function(t){return!0}})}}])&&l(e.prototype,n),o&&l(e,o),t}();function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(i,t);var e,n,o,r=h(i);function i(){return u(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"connect",value:function(){this.keyStartValue=339.292,this.keyStep=.7,this.autoplaySettingKey="video-player-autoplay",this.initializePlayer(),this.autoplay="true"===localStorage.getItem(this.autoplaySettingKey)||this.hasAutoplayValue&&this.autoplayValue,localStorage.setItem(this.autoplaySettingKey,!1)}},{key:"disconnect",value:function(){this.rwplayer&&this.rwplayer.unload(),this.keyTimer&&clearInterval(this.keyTimer)}},{key:"play",value:function(){this.showPlayerView(),this.autoplay=!0,this.rwplayer.load(),this.rwplayer.play()}},{key:"pause",value:function(){this.rwplayer&&this.rwplayer.pause()}},{key:"next",value:function(){this.keyTimer&&clearInterval(this.keyTimer),this.hasNextLinkTarget?(this.nextLinkTarget.click(),localStorage.setItem(this.autoplaySettingKey,!0)):(this.showPreloaderView(),this.rwplayer.load())}},{key:"ended",value:function(){var t=this;this.showCompleteView(),this.hasNextLinkTarget&&(this.key=this.keyStartValue,this.keyTimer=setInterval((function(){return t.stepCountdown()}),10))}},{key:"stepCountdown",value:function(){this.key-=this.keyStep,this.updateSeconds(),this.key<=0&&this.next()}},{key:"updateSeconds",value:function(){this.secondsTextTarget.textContent=" in ".concat(Math.round(this.key/this.keyStep/100),"s"),this.circleImageTarget.setAttribute("stroke-dashoffset",this.key)}},{key:"cancelAutoplay",value:function(t){t.target.classList.add("u-hide"),this.circleImageTarget.setAttribute("stroke-dashoffset",this.keyStartValue),this.secondsTextTarget.textContent="",this.keyTimer&&clearInterval(this.keyTimer)}},{key:"playerElement",value:function(){return this.hasPlayerContainerTarget?this.playerContainerTarget:this.hasPlayerViewTarget?this.playerViewTarget:null}},{key:"showPreloaderView",value:function(){this.hasPreloaderViewTarget&&this.preloaderViewTarget.classList.remove("u-hide"),this.hasPlayerViewTarget&&this.playerViewTarget.classList.add("u-hide"),this.hasCompleteViewTarget&&this.completeViewTarget.classList.add("u-hide")}},{key:"showPlayerView",value:function(){this.hasPreloaderViewTarget&&this.preloaderViewTarget.classList.add("u-hide"),this.hasPlayerViewTarget&&this.playerViewTarget.classList.remove("u-hide"),this.hasCompleteViewTarget&&this.completeViewTarget.classList.add("u-hide")}},{key:"showCompleteView",value:function(){this.hasPreloaderViewTarget&&this.preloaderViewTarget.classList.add("u-hide"),this.hasPlayerViewTarget&&this.playerViewTarget.classList.add("u-hide"),this.hasCompleteViewTarget&&this.completeViewTarget.classList.remove("u-hide")}},{key:"initializePlayer",value:function(){var t=this;this.playerElement()&&(this.rwplayer=new c({element:this.playerElement(),contentId:this.contentIdValue,videoId:this.videoIdValue,elapsedTime:this.elapsedTimeValue,authToken:window.CAROLUS_ENV.USER_TOKEN,betamaxBaseUrl:window.CAROLUS_ENV.BETAMAX_BASE_URL}),this.rwplayer.ready=function(){t.rwplayer.load()},this.rwplayer.loaded=function(){t.autoplay?t.play():t.playButtonTargets.forEach((function(t){return t.classList.remove("u-hide")}))},this.rwplayer.ended=function(){t.rwplayer.unload(),t.ended()})}}])&&d(e.prototype,n),o&&d(e,o),i}(o.Qr);m.targets=["playerContainer","playerView","preloaderView","completeView","nextLink","secondsText","circleImage","playButton"],m.values={contentId:Number,videoId:Number,elapsedTime:Number,autoplay:Boolean}},13904:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var o=n(67931),r=n(23279),i=n.n(r),s=n(18535),a=n.n(s);function l(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(s,t);var e,n,o,r=h(s);function s(){return u(this,s),r.apply(this,arguments)}return e=s,(n=[{key:"initialize",value:function(){var t=this;this.loadResults=i()((function(){a().fire(t.formTarget,"submit")}),400)}},{key:"showLoading",value:function(){this.hasLoadingTarget&&this.loadingTarget.classList.remove("u-hide"),this.hasResultsTarget&&this.resultsTarget.classList.add("u-hide")}},{key:"toggleResetFilter",value:function(){var t=l(new FormData(this.formTarget).entries()).filter((function(t){return t[1]})).length;t>0?(this.resetButtonTarget.classList.remove("u-hide"),this.filterCountTarget.innerHTML=t):this.resetButtonTarget.classList.add("u-hide")}},{key:"queryUpdated",value:function(){this.showLoading(),this.loadResults(),this.toggleResetFilter()}}])&&d(e.prototype,n),o&&d(e,o),s}(o.Qr);m.targets=["form","resetButton","filterCount","results","loading"]},36773:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.sidebarSettingKey="video-player-show-sidebar",this.sidebar=window.innerWidth>992&&"true"===localStorage.getItem(this.sidebarSettingKey),this.defaultSidebar()}},{key:"defaultSidebar",value:function(){this.sidebar?this.showSidebar():this.hideSidebar()}},{key:"showSidebar",value:function(){localStorage.setItem(this.sidebarSettingKey,!0),this.containerTarget.classList.add(this.openClass)}},{key:"hideSidebar",value:function(){localStorage.setItem(this.sidebarSettingKey,!1),this.containerTarget.classList.remove(this.openClass)}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["container"],c.classes=["open"]},8966:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.header=this.element.querySelector("span"),this.content=this.element.querySelector("ul")||this.element.querySelector("div"),this.hasOpenValue&&this.openValue&&(this.header.classList.add("c-video-player__lessons-header--open"),this.content.classList.add("c-video-player__lesson-list--open"))}},{key:"toggle",value:function(){this.header.classList.toggle("c-video-player__lessons-header--open"),this.content.classList.toggle("c-video-player__lesson-list--open")}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.values={open:Boolean}},24495:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){var t=this;this.containerTargets.forEach((function(e){return t.checkOpenState(e)}))}},{key:"checkOpenState",value:function(t){"true"===t.dataset.containerStateOpen&&this.open(t)}},{key:"toggleGroup",value:function(t){this.closeAll();var e=t.target.closest(".c-video-player__lessons-section");this.open(e)}},{key:"closeAll",value:function(){var t=this;this.containerTargets.forEach((function(e){return t.close(e)}))}},{key:"open",value:function(t){var e=t.querySelector("span"),n=t.querySelector("ul");e.classList.add(this.openHeaderClass),n.classList.add(this.openListClass)}},{key:"close",value:function(t){var e=t.querySelector("span"),n=t.querySelector("ul");e.classList.remove(this.openHeaderClass),n.classList.remove(this.openListClass)}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["container"],c.classes=["openHeader","openList"]},73525:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var o=n(67931),r=n(23279),i=n.n(r),s=n(79295),a=n(18535),l=n.n(a),c=n(21692);function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g(t);if(e){var r=g(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(a,t);var e,n,o,r=h(a);function a(){return u(this,a),r.apply(this,arguments)}return e=a,(n=[{key:"initialize",value:function(){var t=this;this.loadResults=i()((function(){(0,c.q)("global_navbar_search","search"),l().fire(t.formTarget,"submit")}),1e3)}},{key:"connect",value:function(){this.hideSearch()}},{key:"showLoading",value:function(){this.hasLoadingTarget&&this.loadingTarget.classList.remove("u-hide"),this.hasResultsTarget&&this.resultsTarget.classList.add("u-hide")}},{key:"openLibrary",value:function(t){13===t.keyCode&&s.P.visit("/library?q=".concat(this.queryTarget.value,"&sort_order=relevance"))}},{key:"queryUpdated",value:function(){this.showLoading(),this.loadResults()}},{key:"showSearch",value:function(){var t=document.getElementById("library-query");t?t.focus():this.overlayTarget.classList.remove("u-hide")}},{key:"hideSearch",value:function(){this.overlayTarget.classList.add("u-hide")}}])&&d(e.prototype,n),o&&d(e,o),a}(o.Qr);m.targets=["overlay","query","results","loading","form"]},33733:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var r=l(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.r(e),n.d(e,{default:function(){return c}});var c=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(c,t);var e,n,a,l=s(c);function c(){return o(this,c),l.apply(this,arguments)}return e=c,(n=[{key:"connect",value:function(){this.activateTab(0)}},{key:"selectTab",value:function(t){var e=t.target.dataset.tabIndex;this.activateTab(e)}},{key:"activateTab",value:function(t){this.reset(),this.tabTargets[t].classList.add(this.activeClass),this.contentTargets[t].classList.remove(this.hideClass)}},{key:"reset",value:function(){var t=this;this.tabTargets.forEach((function(e){return e.classList.remove(t.activeClass)})),this.contentTargets.forEach((function(e){return e.classList.add(t.hideClass)}))}}])&&r(e.prototype,n),a&&r(e,a),c}(n(67931).Qr);c.targets=["tab","content"],c.classes=["active","hide"]},76908:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var o=n(79295);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,l,c=a(u);function u(){return r(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){var t=this;this.observer=new MutationObserver((function(e){e.forEach((function(e){"attributes"===e.type&&"src"===e.attributeName&&window.history.pushState({turbo_frame_history:!0},"",t.element.getAttribute("src"))}))})),this.observer.observe(this.element,{attributes:!0}),this.popStateListener=function(t){t.state.turbo_frame_history&&o.P.visit(window.location.href,{action:"replace"})},window.addEventListener("popstate",this.popStateListener)}},{key:"disconnect",value:function(){this.observer.disconnect(),window.removeEventListener("popstate",this.popStateListener)}}])&&i(e.prototype,n),l&&i(e,l),u}(n(67931).Qr)},81707:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var o=n(79295);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var u=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(u,t);var e,n,l,c=a(u);function u(){return r(this,u),c.apply(this,arguments)}return e=u,(n=[{key:"connect",value:function(){this.popStateListener=function(t){t.state.turbo_frame_history&&o.P.visit(window.location.href,{action:"replace"})},window.addEventListener("popstate",this.popStateListener)}},{key:"disconnect",value:function(){window.removeEventListener("popstate",this.popStateListener)}}])&&i(e.prototype,n),l&&i(e,l),u}(n(67931).Qr)},20633:function(t,e,n){"use strict";n.d(e,{N:function(){return o}});var o=new(n(20144).Z)},86232:function(t,e,n){"use strict";n.d(e,{v5:function(){return o},YY:function(){return r},bx:function(){return i},ax:function(){return s},rB:function(){return a},a7:function(){return l},Dx:function(){return c},lp:function(){return u},ON:function(){return d},gS:function(){return f},SQ:function(){return h},$4:function(){return p},Hn:function(){return g}});var o="FRAGMENT_SELECTED",r="FRAGMENT_ANNOTATION_UPDATED",i="FRAGMENT_ANNOTATION_REMOVED",s="FLASH_ERROR",a="FLASH_WARNING",l="FLASH_SUCCESS",c="FLASH_CLEAR",u="BOOKMARK_TOGGLED",d="NIGHT_MODE_TOGGLED",f="CONTENT_MARK_COMPLETE",h="CONTENT_MARK_INCOMPLETE",p="INTERESTS_CHANGED",g="SHOW_MODAL"},95909:function(t,e){"use strict";e.Z=function(t){var e=new URLSearchParams;return Object.keys(t).forEach((function(n){t[n]instanceof Array?function(t,e,n){var o="".concat(e,"[]");n.forEach((function(e){t.append(o,e)}))}(e,n,t[n]):t[n]&&""!==t[n]&&e.append(n,t[n])})),e}},78109:function(t,e){"use strict";e.Z=function(t){var e=t.signup,n=void 0!==e&&e,o=new URLSearchParams;return n&&o.set("mode","signup"),o.set("return_path",document.location.pathname),"/sessions/new?".concat(o.toString())}},83827:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var o=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return o=!0,!0}});window.addEventListener("testPassive",(function(){}),r),window.removeEventListener("testPassive",(function(){}),r)}catch(s){o=!1}function i(t){return!!o&&{passive:t}}},97463:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});var o=n(95909),r=n(20144),i=n(4907),s=n(3261),a=n(26013),l=r.Z.extend({props:{checked:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},iconInputClass:{type:String,default:"o-button__icon--left o-button__icon--input"},svgCheckedClass:{type:String,default:""},svgCheckedHref:{type:String,default:"#"},svgUncheckedClass:{type:String,default:""},svgUncheckedHref:{type:String,default:"#"}}}),c=n(51900),u=(0,c.Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"o-button__wrapper"},[(t.checked||t.saving&&!t.checked)&&""!==t.svgCheckedHref?n("i",{staticClass:"o-button__icon"},[n("svg",{staticClass:"o-button__svg",class:t.svgCheckedClass},[n("use",{attrs:{"xlink:href":t.svgCheckedHref}})])]):(!t.checked||t.saving&&t.checked)&&""!==t.svgUncheckedHref?n("i",{class:[t.iconInputClass,"o-button__icon"]},[n("svg",{staticClass:"o-button__svg",class:t.svgUncheckedClass},[n("use",{attrs:{"xlink:href":t.svgUncheckedHref}})])]):t._e()])}),[],!1,null,null,null).exports,d=n(20633),f=n(86232),h=n(21692);function p(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){a=!0,i=t},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var m=r.Z.extend({name:"BookmarkToggleButton",props:{content:{required:!0,type:Object},initialBookmark:{type:Object},eventLocation:{required:!1,type:String},iconOnly:{default:!1,type:Boolean},autoBookmark:{default:!1,type:Boolean}},data:function(){return{bookmark:this.initialBookmark,loggedIn:!!window.CAROLUS_ENV.USER_TOKEN,networkOperationInProgress:!1,nightModeActive:"true"===(0,i.ej)("night-mode-on")}},computed:{eventCategory:function(){var t=this.content["video?"]?"video":"article",e=this.loggedIn?"":"Attempt",n=this.eventLocation?"".concat(this.eventLocation,"_"):"";return"".concat(t,"_").concat(n,"bookmark").concat(e)},bookmarked:function(){return!!this.bookmark&&!!this.bookmark.id},buttonText:function(){return this.bookmarked?"Bookmarked":"Bookmark"},buttonClass:function(){return this.iconOnly?"o-button--bookmark":this.bookmarked?"o-button--green":"o-button--dark"},svgUncheckedHref:function(){return this.iconOnly?"#bookmark":"#bookmark--dark"},svgUncheckedClass:function(){return this.iconOnly&&this.nightModeActive?"o-button__svg--grey-chateau l-button__svg-bookmark-icon":this.iconOnly?"o-button__svg--medium-grey l-button__svg-bookmark-icon":"o-button__svg--black l-button__svg-plus"},svgCheckedClass:function(){return this.iconOnly?"o-button__svg--green l-button__svg-bookmark-icon":"o-button__svg--green l-button__svg-checkmark"},iconInputClass:function(){return this.iconOnly?"":"o-button__icon--white"},autoClick:function(){var t=function(t){var e,n={},o=p(t.entries());try{for(o.s();!(e=o.n()).done;){var r=e.value,i=r[0],s=r[1];if(i.endsWith("[]")){var a=i.replace("[]","");n[a]?n[a]=n[a].concat(s):n[a]=[s]}else n[i]=s}}catch(l){o.e(l)}finally{o.f()}return n}(new URLSearchParams(window.location.search));return this.autoBookmark&&"true"===t.bookmark}},methods:{handleClick:function(t){t.stopPropagation(),this.bookmarked?this.remove():this.add()},add:function(){var t=this;this.networkOperationInProgress=!0;var e=new FormData;e.append("bookmark[content_id]",this.content.id),Rails.ajax({url:"/bookmarks",type:"POST",data:e,success:function(e){t.bookmark=e,t.networkOperationInProgress=!1,t.emitToggleNotification()}})},remove:function(){var t=this;this.networkOperationInProgress=!0,Rails.ajax({url:"/bookmarks/".concat(this.bookmark.id),type:"DELETE",success:function(){t.bookmark=null,t.networkOperationInProgress=!1,t.emitToggleNotification()}})},emitToggleNotification:function(){d.N.$emit(f.lp,this.content.id,this.bookmark),this.bookmarked?(d.N.$emit(f.a7,"You have bookmarked ".concat(this.content.name,"."),!0),(0,h.q)(this.eventCategory,"bookmark")):d.N.$emit(f.a7,"You have removed the bookmark for ".concat(this.content.name,"."),!0)}},created:function(){var t=this;d.N.$on(f.lp,(function(e,n){t.content.id===e&&(t.bookmark=n)})),d.N.$on(f.ON,(function(e){t.nightModeActive=e}))},mounted:function(){this.autoClick&&this.add()},components:{ButtonContent:a.Z,IconButtonContent:u,LoginRequiredButton:s.Z}}),v=(0,c.Z)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedIn?n("button",{class:t.buttonClass,on:{click:function(e){return t.handleClick(e)}}},[t.iconOnly?n("IconButtonContent",{attrs:{checked:t.bookmarked,saving:t.networkOperationInProgress,disabled:t.networkOperationInProgress,iconInputClass:t.iconInputClass,svgUncheckedClass:t.svgUncheckedClass,svgUncheckedHref:t.svgUncheckedHref,svgCheckedClass:t.svgCheckedClass,svgCheckedHref:"#bookmark--green"}}):n("ButtonContent",{attrs:{text:t.buttonText,checked:t.bookmarked,saving:t.networkOperationInProgress,disabled:t.networkOperationInProgress,iconInputClass:t.iconInputClass,svgUncheckedClass:t.svgUncheckedClass,svgUncheckedHref:t.svgUncheckedHref,svgCheckedClass:t.svgCheckedClass,svgCheckedHref:"#bookmark--green"}})],1):n("LoginRequiredButton",{attrs:{buttonClass:t.buttonClass,eventCategory:t.eventCategory,eventAction:"bookmark",autoClick:t.autoClick}},[t.iconOnly?n("IconButtonContent",{attrs:{iconInputClass:t.iconInputClass,svgUncheckedClass:t.svgUncheckedClass,svgUncheckedHref:t.svgUncheckedHref}}):n("ButtonContent",{attrs:{text:t.buttonText,iconInputClass:t.iconInputClass,svgUncheckedClass:t.svgUncheckedClass,svgUncheckedHref:t.svgUncheckedHref}})],1)}),[],!1,null,null,null).exports,y=r.Z.extend({name:"BookmarkRemoveLink",props:{content:{required:!0,type:Object},initialBookmark:{type:Object}},data:function(){return{bookmark:this.initialBookmark}},computed:{bookmarked:function(){return!!this.bookmark&&!!this.bookmark.id},contentElementId:function(){return"content-item-".concat(this.content.id)}},methods:{handleClick:function(t){t.stopPropagation(),this.bookmarked&&this.remove()},remove:function(){var t=this;Rails.ajax({url:"/bookmarks/".concat(this.bookmark.id),type:"DELETE",success:function(){t.bookmark=null,t.emitToggleNotification();var e=document.getElementById(t.contentElementId);e.addEventListener("animationend",(function(){e.parentNode.removeChild(e)})),e.style.animationName="a-fade-out"}})},emitToggleNotification:function(){d.N.$emit(f.lp,this.content.id,this.bookmark),d.N.$emit(f.a7,"You have removed the bookmark for ".concat(this.content.name,"."),!0)}}}),b=(0,c.Z)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t.bookmark?n("a",{staticClass:"o-link--bookmark-remove l-margin-15",on:{click:function(e){return t.handleClick(e)}}},[t._v("\n    Remove\n  ")]):t._e()])}),[],!1,null,null,null).exports,_=n(23493),k=n.n(_),C=n(79306),w=n(18269),S=n(83827),x=r.Z.extend({name:"StickyOptionsBanner",props:{scrollDistanceToDisplay:{type:Number,default:750},content:{required:!0,type:Object},initialBookmark:{type:Object}},data:function(){return{bookmark:this.initialBookmark,loggedIn:!!window.CAROLUS_ENV.USER_TOKEN,showForScroll:!1,articleSection:document.getElementsByClassName("c-written-tutorial")[0]}},methods:{scrollHandler:k()((function(){this.showForScroll=window.scrollY>this.scrollDistanceToDisplay&&!this.atBottomOfArticle()}),100),atBottomOfArticle:function(){return!!this.articleSection&&this.articleSection.getBoundingClientRect().bottom<window.innerHeight}},created:function(){var t=this;d.N.$on(f.lp,(function(e,n){t.content.id===e&&(t.bookmark=n)}))},mounted:function(){window.addEventListener("scroll",this.scrollHandler,(0,S.Z)(!0))},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler)},components:{BookmarkToggleButton:v,FacebookShare:C.Z,TwitterShare:w.Z}}),T=(0,c.Z)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[t.showForScroll?n("div",{staticClass:"c-sticky-options-banner"},[n("FacebookShare",{attrs:{content:t.content}}),t._v(" "),n("TwitterShare",{attrs:{content:t.content}}),t._v(" "),n("BookmarkToggleButton",{attrs:{eventLocation:"sidebar",initialBookmark:t.bookmark,content:t.content,iconOnly:!0}})],1):t._e()])}),[],!1,null,null,null).exports;function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var P=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bookmarkCache={}}var e,n,r;return e=t,(n=[{key:"updateDOMWithBookmarks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.requiredContentIds(e);0!=n.length&&window.CAROLUS_ENV.USER_TOKEN?this.requestBookmarksForContentIds(this.cacheMissContentIds(n)).then((function(e){return t.updateCache(e)})).then((function(){return t.mountBookmarks(e)})).catch((function(t){401!==t.code&&console.error(t)})):this.mountBookmarks(e)}},{key:"requiredContentIds",value:function(t){return Array.from((t||document).querySelectorAll("[data-track-bookmark-content-id]")).map((function(t){return t.dataset.trackBookmarkContentId}))}},{key:"cacheMissContentIds",value:function(t){var e=this;return t.filter((function(t){return!Object.keys(e.bookmarkCache).includes(t)}))}},{key:"updateCache",value:function(t){var e=this;t.forEach((function(t){e.bookmarkCache[t.content_id.toString()]=t}))}},{key:"mountBookmarks",value:function(t){var e=this;Array.from((t||document).querySelectorAll("[data-track-bookmark-content-id]")).forEach((function(t){var n=t.dataset.trackBookmarkContentId,o=e.bookmarkCache[n];t.classList.contains("vue-bookmark-remove-link")?new b({propsData:{initialBookmark:o,content:JSON.parse(t.dataset.content.toString())}}).$mount(t):new v({propsData:{initialBookmark:o,content:JSON.parse(t.dataset.content.toString()),eventLocation:t.dataset.eventLocation,iconOnly:JSON.parse(t.dataset.iconOnly.toString()),autoBookmark:JSON.parse(t.dataset.autoBookmark.toString())}}).$mount(t)})),Array.from((t||document).querySelectorAll("[data-track-bookmark-banner-content-id]")).forEach((function(t){var n=t.dataset.trackBookmarkBannerContentId,o=e.bookmarkCache[n];new T({propsData:{initialBookmark:o,content:JSON.parse(t.dataset.content.toString())}}).$mount(t)}))}},{key:"requestBookmarksForContentIds",value:function(t){return new Promise((function(e,n){Rails.ajax({url:"/bookmarks",type:"GET",dataType:"json",accept:"json",data:(0,o.Z)({content_ids:t}),success:function(t){e(t)},error:function(t,e,o){401===o.status?n({code:401}):n({code:null,payload:t})}})}))}}])&&O(e.prototype,n),r&&O(e,r),t}()},91099:function(t,e,n){"use strict";n.d(e,{Z:function(){return R},a:function(){return N}});var o=n(22230),r=n(42152),i=n.n(r),s=n(4907),a=n(51878),l=n(92930),c=n(61730),u=n(6917),d=n(43809),f=n(69684),h=n(56018),p=n(91929),g=n(78501),m=n(29410),v=n(44447),y=n(47413),b=n(17288),_=n(64332),k=n(28239),C=n(38097),w=n(47915),S=n(47136),x=n(85249),T=n(20633),O=n(86232),P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";"success"===e?T.N.$emit(O.a7,t,!0):T.N.$emit(O.rB,t,!1)},E=function(t){var e="cut"===t?"X":"C";return/iPhone|iPad/i.test(navigator.userAgent)?"No support :(":/Mac/i.test(navigator.userAgent)?"Press \u2318-".concat(e," to ").concat(t):"Press Ctrl-".concat(e," to ").concat(t)};function A(t){return function(t){if(Array.isArray(t))return L(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return L(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}o.Z.registerLanguage("bash",a.Z),o.Z.registerLanguage("c",l.Z),o.Z.registerLanguage("cpp",c.Z),o.Z.registerLanguage("csharp",u.Z),o.Z.registerLanguage("css",d.Z),o.Z.registerLanguage("dart",f.Z),o.Z.registerLanguage("dockerfile",h.Z),o.Z.registerLanguage("gradle",p.Z),o.Z.registerLanguage("java",g.Z),o.Z.registerLanguage("javascript",m.Z),o.Z.registerLanguage("json",v.Z),o.Z.registerLanguage("kotlin",y.Z),o.Z.registerLanguage("markdown",b.Z),o.Z.registerLanguage("objectivec",_.Z),o.Z.registerLanguage("ruby",k.Z),o.Z.registerLanguage("sql",C.Z),o.Z.registerLanguage("swift",w.Z),o.Z.registerLanguage("xml",S.Z),o.Z.registerLanguage("yaml",x.Z);var I=function(){var t=document.querySelector("article.c-written-tutorial");if(t)return{container:t,colourClass:"l-written-tutorial--light"};var e=document.querySelector(".c-video-player__notes");return e?{container:e,colourClass:"c-video-player__notes--light"}:{container:null,colourClass:null}},j=function(){var t=I(),e=t.container,n=t.colourClass;if(e){var o=e.classList.toggle(n);(0,s.d8)("codeblock-light-ui",o,{expires:"10Y"})}};function R(){try{A(document.getElementsByTagName("pre")).forEach((function(t){try{if(t.attributes.lang){var e=t.attributes.lang.value;e&&t.classList.add("language-".concat(e))}var n=t.getElementsByTagName("code");n.length>0?A(n).forEach(o.Z.highlightElement):o.Z.highlightElement(t)}catch(r){console.error(r)}})),i().isSupported()&&(A(document.getElementsByTagName("pre")).forEach((function(t){var e=document.createElement("button");e.setAttribute("class","o-button-copy"),t.appendChild(e)})),(r=new(i())(".o-button-copy",{target:function(t){return t.parentNode}})).on("success",(function(t){P("Copied!","success"),t.clearSelection()})),r.on("error",(function(t){P(E(t.action),"warning")}))),t=I(),e=t.container,n=t.colourClass,e&&"true"===(0,s.ej)("codeblock-light-ui")&&e.classList.add(n),A(document.getElementsByTagName("pre")).forEach((function(t){var e=document.createElement("button");e.classList.add("o-button-code","o-button-code--light"),t.appendChild(e),e.addEventListener("click",j)}))}catch(a){console.error(a)}var t,e,n,r}function N(t){try{A(t.getElementsByClassName("o-button-code")).forEach((function(t){t.addEventListener("click",j)}))}catch(e){console.error(e)}}},21692:function(t,e,n){"use strict";n.d(e,{Z:function(){return a},q:function(){return l}});var o=n(79295);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=Array.from(t.querySelectorAll("[data-event-category]"));e.forEach((function(t){var e=t,n=e.dataset.eventCategory,o=e.dataset.eventAction;n&&o&&e.addEventListener("click",(function(t){var e=t.target;if(e instanceof HTMLAnchorElement){var r=e.href,i="false"==e.getAttribute("data-turbo");t.preventDefault(),l(n,o,r,i)}l(n,o)}))}))}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={eventCategory:t,eventAction:e,event:"carolusInteraction"};n&&""!==n&&(s=i(i({},s),{},{eventCallback:function(){r?window.location.href=n:o.P.visit(n)},eventTimeout:1e3})),"undefined"!==typeof window.google_tag_manager&&"undefined"!==typeof dataLayer?dataLayer.push(s):s.eventCallback&&s.eventCallback()}},29059:function(t,e,n){"use strict";n.d(e,{Z:function(){return s}});var o,r=n(95909);function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}!function(t){t[t.NotStarted=0]="NotStarted",t[t.InProgress=1]="InProgress",t[t.Complete=2]="Complete"}(o||(o={}));var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.progressCache={}}var e,n,s;return e=t,(n=[{key:"updateDOMWithUserProgress",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.requiredContentIds(e);0!=n.length&&window.CAROLUS_ENV.USER_TOKEN&&this.requestProgressForContentIds(this.cacheMissContentIds(n)).then((function(e){return t.updateCache(e)})).then((function(){return t.updateUI(e)})).catch((function(t){401!==t.code&&console.error(t)}))}},{key:"requiredContentIds",value:function(t){return Array.from((t||document).querySelectorAll("[data-track-progress-content-id]")).map((function(t){return t.dataset.trackProgressContentId}))}},{key:"cacheMissContentIds",value:function(t){var e=this;return t.filter((function(t){return!Object.keys(e.progressCache).includes(t)}))}},{key:"updateCache",value:function(t){var e=this;t.forEach((function(t){var n=o.NotStarted;t.finished?n=o.Complete:t.percent_complete>0&&(n=o.InProgress),e.progressCache[t.content_id.toString()]=n}))}},{key:"updateUI",value:function(t){var e=this;Array.from((t||document).querySelectorAll("[data-track-progress-content-id]")).forEach((function(t){var n=t.dataset.trackProgressContentId,r=t.dataset.inProgressClass,i=t.dataset.completedClass;switch(e.progressCache[n]){case o.NotStarted:t.classList.remove(r,i);break;case o.InProgress:t.classList.remove(i),t.classList.add(r);break;case o.Complete:t.classList.add(i),t.classList.remove(r);break;default:t.classList.remove(r,i)}}))}},{key:"requestProgressForContentIds",value:function(t){return new Promise((function(e,n){Rails.ajax({url:"/progressions",type:"GET",data:(0,r.Z)({content_ids:t}),success:function(t){e(t)},error:function(t,e,o){401===o.status?n({code:401}):n({code:null,payload:t})}})}))}}])&&i(e.prototype,n),s&&i(e,s),t}()},62572:function(t,e,n){var o=n(9391);o.keys().forEach(o)},37670:function(t,e,n){"use strict";n(82526),n(41817),n(72443),n(92401),n(8722),n(32165),n(69007),n(83510),n(41840),n(6982),n(32159),n(96649),n(39341),n(60543),n(92222),n(50545),n(43290),n(57327),n(69826),n(34553),n(84944),n(86535),n(91038),n(26699),n(66992),n(69600),n(21249),n(26572),n(47042),n(38706),n(40561),n(33792),n(99244),n(18264),n(96078),n(4855),n(68309),n(73706),n(51532),n(99752),n(82376),n(73181),n(23484),n(2388),n(88621),n(60403),n(84755),n(25438),n(90332),n(40658),n(40197),n(44914),n(52420),n(60160),n(60970),n(10408),n(73689),n(9653),n(93299),n(35192),n(33161),n(44048),n(78285),n(44363),n(55994),n(61874),n(9494),n(56977),n(19601),n(59595),n(35500),n(69720),n(43371),n(38559),n(38880),n(49337),n(36210),n(30489),n(43304),n(41825),n(98410),n(72200),n(47941),n(94869),n(33952),n(57227),n(60514),n(41539),n(26833),n(88674),n(17727),n(36535),n(12419),n(69596),n(52586),n(74819),n(95683),n(39361),n(51037),n(5898),n(67556),n(14361),n(83593),n(39532),n(24603),n(74916),n(92087),n(39714),n(70189),n(79841),n(27852),n(94953),n(32023),n(78783),n(4723),n(66528),n(83112),n(38992),n(82481),n(15306),n(64765),n(23123),n(23157),n(73210),n(48702),n(55674),n(15218),n(74475),n(57929),n(50915),n(29253),n(42125),n(78830),n(58734),n(29254),n(37268),n(7397),n(60086),n(80623),n(44197),n(76495),n(87145),n(35109),n(65125),n(82472),n(49743),n(8255),n(29135),n(92990),n(18927),n(33105),n(35035),n(74345),n(7174),n(32846),n(98145),n(44731),n(77209),n(96319),n(58867),n(37789),n(33739),n(95206),n(29368),n(14483),n(12056),n(3462),n(30678),n(27462),n(33824),n(55021),n(12974),n(15016),n(4129),n(38478),n(54747),n(33948),n(84633),n(85844),n(60285),n(83753),n(41637),n(35666);var o=n(67931),r=n(99074),i=o.Mx.start(),s=n(85874);i.load((0,r.X)(s));var a=n(79295),l=(n(38322),n(18535)),c=n.n(l),u=n(20144),d=n(49463),f=n.n(d),h=n(4907),p=n(77926),g=n(63590),m=n(20633),v=n(86232),y=n(21692),b=u.Z.extend({name:"AddButton",props:{domain:{required:!0,type:Object},eventCategory:{required:!1,type:String}},data:function(){return{interest:null,networkOperationInProgress:!1}},methods:{handleClick:function(){var t=this;this.networkOperationInProgress=!0;var e=new FormData;e.append("interest[domain_id]",this.domain.id),Rails.ajax({url:"/interests",type:"POST",data:e,success:function(e){t.interest=e,t.networkOperationInProgress=!1,t.emitToggleNotification()}})},emitToggleNotification:function(){this.$emit("toggle",this.domain.id,this.interest,!0),m.N.$emit(v.a7,"You are now following ".concat(this.domain.name,"."),!0),this.eventCategory&&(0,y.q)(this.eventCategory,"follow")}}}),_=n(51900),k=(0,_.Z)(b,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("a",{staticClass:"o-tag",on:{click:function(e){return t.handleClick()}}},[t._v("\n  "+t._s(t.domain.name)+"\n")])}),[],!1,null,null,null).exports,C=n(3261),w=n(26013),S=u.Z.extend({name:"DomainToggleButton",props:{domain:{required:!0,type:Object},initialInterest:{required:!0},loggedIn:{type:Boolean,required:!0},shouldShowDomainName:{type:Boolean,default:!0},eventCategory:{required:!1,type:String}},data:function(){return{interest:this.initialInterest,networkOperationInProgress:!1}},watch:{initialInterest:function(){this.interest=this.initialInterest}},computed:{following:function(){return!!this.interest&&!!this.interest.id},buttonText:function(){return this.shouldShowDomainName?this.domain.name:this.following?"Following":"Follow"}},methods:{handleClick:function(){this.following?this.remove():this.add()},add:function(){var t=this;this.networkOperationInProgress=!0;var e=new FormData;e.append("interest[domain_id]",this.domain.id),Rails.ajax({url:"/interests",type:"POST",data:e,success:function(e){t.interest=e,t.networkOperationInProgress=!1,t.emitToggleNotification()}})},remove:function(){var t=this;this.networkOperationInProgress=!0,Rails.ajax({url:"/interests/".concat(this.interest.id),type:"DELETE",success:function(){t.interest=null,t.networkOperationInProgress=!1,t.emitToggleNotification()}})},emitToggleNotification:function(){this.$emit("toggle",this.domain.id,this.interest,this.following),this.following?(m.N.$emit(v.a7,"You are now following ".concat(this.domain.name,"."),!0),(0,y.q)(this.eventCategory,"follow")):m.N.$emit(v.a7,"You are no longer following ".concat(this.domain.name,"."),!0)}},components:{ButtonContent:w.Z,LoginRequiredButton:C.Z}}),x=(0,_.Z)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedIn?n("button",{class:t.following?"o-button--green":"o-button--dark",on:{click:t.handleClick}},[n("ButtonContent",{attrs:{text:t.buttonText,checked:t.following,saving:t.networkOperationInProgress,disabled:t.networkOperationInProgress,iconInputClass:"o-button__icon--left o-button__icon--white",svgUncheckedClass:"o-button__svg--black l-button__svg-plus",svgUncheckedHref:"#plus--black",svgCheckedClass:"l-button__svg-checkmark o-button__svg--green",svgCheckedHref:"#checkmark--green"}})],1):n("LoginRequiredButton",{attrs:{buttonClass:"o-button--dark"}},[n("ButtonContent",{attrs:{text:t.buttonText,iconInputClass:"o-button__icon--left o-button__icon--white",svgUncheckedClass:"o-button__svg--black l-button__svg-plus",svgUncheckedHref:"#plus--black"}})],1)}),[],!1,null,null,null).exports,T=n(29059),O=n(97463),P=n(23279),E=n.n(P),A=n(50840);function L(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var I=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.windowSize=void 0,this.samples=[],this.timestamps=[],this.movingAverage=0,this.windowSize=e}var e,n,o;return e=t,(n=[{key:"addSample",value:function(t,e){return this.samples.push(t),this.timestamps.push(e),this.movingAverage+=t,this.updateWindow(e),this.movingAverage}},{key:"reset",value:function(){this.samples=[],this.timestamps=[],this.movingAverage=0}},{key:"updateWindow",value:function(t){var e=this,n=this.timestamps.findIndex((function(n){return n>t-e.windowSize}));if(!(n<1))for(var o=0;o<n;o+=1){this.timestamps.shift();var r=this.samples.shift();r&&(this.movingAverage-=r)}}}])&&L(e.prototype,n),o&&L(e,o),t}(),j=n(83827);function R(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var N=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.config=void 0,this.selector=void 0,this.innerElements=void 0,this.transformProperty=t.webkitOrNot(),this.sliderFrame=void 0,this.currentSlide=0,this.currentWidth=0,this.movingAverageCalculator=void 0,this.debouncedNextPage=void 0,this.debouncedPreviousPage=void 0,this.interactionObserver=void 0,this.config=e,this.selector=this.config.container,this.innerElements=[].slice.call(this.selector.children),["resizeHandler","mouseWheelHandler","nextPage","previousPage"].forEach((function(t){n[t]=n[t].bind(n)})),this.movingAverageCalculator=new I(this.config.scrollDuration),this.debouncedNextPage=E()((function(){return n.nextPage()}),this.config.duration,{leading:!0,trailing:!1,maxWait:2*this.config.duration}),this.debouncedPreviousPage=E()((function(){return n.previousPage()}),this.config.duration,{leading:!0,trailing:!1,maxWait:2*this.config.duration}),this.sliderFrame=document.createElement("div"),this.interactionObserver=new IntersectionObserver((function(t){t[0].intersectionRatio<=0||n.buildSliderFrame()}),{root:document.documentElement}),this.interactionObserver.observe(this.selector)}var e,n,o;return e=t,o=[{key:"webkitOrNot",value:function(){return"string"===typeof document.documentElement.style.transform?"transform":"WebkitTransform"}}],(n=[{key:"initialise",value:function(){this.attachEvents(),this.selector.style.overflow="hidden",this.buildSliderFrame()}},{key:"loopRequired",get:function(){return this.config.infinite&&this.itemCount>this.itemsPerPage}},{key:"itemWidth",get:function(){return this.config.itemWidth}},{key:"itemsPerPage",get:function(){return Math.max(1,Math.floor(this.selector.offsetWidth/this.itemWidth))}},{key:"itemCount",get:function(){return this.innerElements.length}},{key:"attachEvents",value:function(){if(window.addEventListener("resize",this.resizeHandler,(0,j.Z)(!0)),"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0){var t=new A.Manager(this.selector,{});t.add(new A.Swipe({direction:A.DIRECTION_HORIZONTAL})),t.on("swipeleft",this.debouncedNextPage),t.on("swiperight",this.debouncedPreviousPage)}else console.log((0,j.Z)(!0)),this.selector.addEventListener("wheel",this.mouseWheelHandler,(0,j.Z)(!0));this.config.previousButton.addEventListener("click",this.previousPage),this.config.nextButton.addEventListener("click",this.nextPage)}},{key:"buildSliderFrame",value:function(){var t=this;if(this.currentWidth=window.innerWidth,!(this.innerElements.length<1)){var e=this.loopRequired?this.itemCount+3*this.itemsPerPage:this.itemCount;this.sliderFrame.style.width="".concat(this.itemWidth*e,"px"),this.enableTransition();var n=document.createDocumentFragment();if(this.loopRequired)for(var o=this.itemCount-this.itemsPerPage;o<this.itemCount;o+=1){var r=o%this.itemCount,i=this.configureSlideElement(this.innerElements[r],!0);n.appendChild(i)}if(this.innerElements.forEach((function(e){var o=t.configureSlideElement(e,!1);n.appendChild(o)})),this.loopRequired)for(var s=0;s<2*this.itemsPerPage;s+=1){var a=s%this.itemCount,l=this.configureSlideElement(this.innerElements[a],!0);n.appendChild(l)}this.sliderFrame.innerHTML="",this.sliderFrame.appendChild(n),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.showHideButtons(),this.slideToCurrent()}}},{key:"configureSlideElement",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;return e&&(n=t.cloneNode(!0)),n.style.cssFloat="left",n}},{key:"showHideButtons",value:function(){this.loopRequired?(this.config.previousButton.classList.remove("u-hide"),this.config.nextButton.classList.remove("u-hide")):(this.config.previousButton.classList.add("u-hide"),this.config.nextButton.classList.add("u-hide"))}},{key:"enableTransition",value:function(){this.sliderFrame.style.webkitTransition="all ".concat(this.config.duration,"ms ").concat(this.config.easing),this.sliderFrame.style.transition="all ".concat(this.config.duration,"ms ").concat(this.config.easing)}},{key:"disableTransition",value:function(){this.sliderFrame.style.webkitTransition="all 0ms ".concat(this.config.easing),this.sliderFrame.style.transition="all 0ms ".concat(this.config.easing)}},{key:"slideToCurrent",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.loopRequired?this.currentSlide+this.itemsPerPage:this.currentSlide,o=-1*n*this.itemWidth+this.config.bleed;e?requestAnimationFrame((function(){requestAnimationFrame((function(){t.enableTransition(),t.sliderFrame.style.setProperty(t.transformProperty,"translate3d(".concat(o,"px, 0, 0)"))}))})):this.sliderFrame.style.setProperty(this.transformProperty,"translate3d(".concat(o,"px, 0, 0)"))}},{key:"previousPage",value:function(){if(!(this.innerElements.length<=this.itemsPerPage)){var t=this.currentSlide;if(this.loopRequired)if(this.currentSlide<this.itemsPerPage){this.disableTransition();var e=this.currentSlide+this.itemCount;this.currentSlide=e-this.itemsPerPage,this.resetSliderToIndex(e)}else this.currentSlide-=this.itemsPerPage;else this.currentSlide=Math.max(this.currentSlide-this.itemsPerPage,0);t!==this.currentSlide&&this.slideToCurrent(this.loopRequired)}}},{key:"nextPage",value:function(){var t=this.itemsPerPage;if(!(this.innerElements.length<=this.itemsPerPage)){var e=this.currentSlide;if(this.loopRequired)if(this.currentSlide>this.itemCount-this.itemsPerPage-1){var n=this.currentSlide-this.itemCount;this.currentSlide=n+this.itemsPerPage,this.resetSliderToIndex(n)}else this.currentSlide+=t;else this.currentSlide=Math.min(this.currentSlide+t,this.innerElements.length-this.itemsPerPage);e!==this.currentSlide&&this.slideToCurrent(this.loopRequired)}}},{key:"resetSliderToIndex",value:function(t){this.disableTransition();var e=-1*(t+this.itemsPerPage)*this.itemWidth+this.config.bleed;this.sliderFrame.style.setProperty(this.transformProperty,"translate3d(".concat(e,"px, 0, 0)"))}},{key:"resizeHandler",value:function(){this.currentWidth!==window.innerWidth&&(this.currentSlide+this.itemsPerPage>this.innerElements.length&&(this.currentSlide=this.innerElements.length<=this.itemsPerPage?0:this.innerElements.length-this.itemsPerPage),this.buildSliderFrame())}},{key:"mouseWheelHandler",value:function(t){if(t.defaultPrevented||t.ctrlKey)return!0;if(Math.abs(t.deltaY)>=Math.abs(t.deltaX))return!0;var e=this.movingAverageCalculator.addSample(t.deltaX,t.timeStamp);return Math.abs(e)>this.config.scrollDistance&&(e>0?this.debouncedNextPage():this.debouncedPreviousPage(),this.movingAverageCalculator.reset()),t.preventDefault(),!1}}])&&R(e.prototype,n),o&&R(e,o),t}();function B(t){return function(t){if(Array.isArray(t))return $(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return $(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;B((t||document).querySelectorAll(".l-tutorial-container--slider")).forEach((function(t){var e=t.dataset.itemWidth||318,n=t.querySelector(".l-tutorial-container__wrapper"),o=t.querySelector(".o-button__icon--prev"),r=t.querySelector(".o-button__icon--next");new N({container:n,previousButton:o,nextButton:r,duration:600,easing:"cubic-bezier(0.645, 0.045, 0.355, 1)",infinite:!0,bleed:20,itemWidth:e,scrollDuration:150,scrollDistance:60}).initialise()}))}var Z=n(10928),U=n.n(Z),M=n(23493),F=n.n(M),D=n(77175),H=u.Z.extend({name:"EmptyState",props:{title:{type:String,default:"There's nothing here. Get started..."}},data:function(){return{codeCardLayoutImage:D}}}),V=(0,_.Z)(H,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"c-empty-state c-empty-state--suggestions"},[n("div",{staticClass:"l-inline-block l-relative"},[n("div",{staticClass:"c-search__no-results"},[n("img",{staticClass:"c-empty-state__artwork",attrs:{src:t.codeCardLayoutImage,alt:"skeleton"}}),t._v(" "),n("h3",[t._v(t._s(t.title))]),t._v(" "),n("h4",{staticClass:"l-margin-18--i"},[t._v("Try our most popular categories:")]),t._v(" "),t._m(0)])]),t._v(" "),n("div",{staticClass:"l-margin-30"},[n("p",{staticClass:"l-flex-justify-center"},[n("i",{staticClass:"o-icon-button o-icon-button--tiny"},[n("svg",{staticClass:"o-button__svg--black l-button__svg-question"},[n("use",{attrs:{"xlink:href":"#question"}})])]),t._v(" "),t._m(1)])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-search__tags"},[n("a",{staticClass:"o-tag",attrs:{href:"/library?category_ids[]=143"}},[t._v("Getting Started")]),t._v(" "),n("a",{staticClass:"o-tag",attrs:{href:"/library?category_ids[]=158"}},[t._v("Machine Learning")]),t._v(" "),n("a",{staticClass:"o-tag",attrs:{href:"/library?category_ids[]=159"}},[t._v("AR/VR")]),t._v(" "),n("a",{staticClass:"o-tag",attrs:{href:"/library?difficulties[]=beginner"}},[t._v("Beginner")]),t._v(" "),n("a",{staticClass:"o-tag",attrs:{href:"/library?difficulties[]=advanced"}},[t._v("Advanced")]),t._v(" "),n("a",{staticClass:"o-tag",attrs:{href:"/library?domain_ids[]=1"}},[t._v("iOS")]),t._v(" "),n("a",{staticClass:"o-tag",attrs:{href:"/library?domain_ids[]=2"}},[t._v("Android")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"l-font-16 l-color-grey l-margin-sides-8"},[t._v("Browse through all tutorials in our library "),n("a",{staticClass:"l-color-green",attrs:{href:"/library"}},[t._v("here")])])}],!1,null,null,null).exports,z=n(37610),Y=n(99043),K=n(87936),W=u.Z.extend({name:"LoadingState",data:function(){return{fileMascot1Image:z,fileMascot2Image:Y,fileMascot3Image:K}}}),G=(0,_.Z)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-empty-state c-empty-state--loader"},[n("div",{staticClass:"l-inline-block l-relative"},[n("div",{staticClass:"c-search__loading l-flex-justify-center l-flex-wrap l-margin-30"},[n("div",{staticClass:"c-search__loading-static"}),t._v(" "),n("div",{staticClass:"c-search__loading-animate l-margin-sides-0"},[n("img",{staticClass:"a-file-rotate--1",attrs:{src:t.fileMascot1Image,alt:""}}),t._v(" "),n("img",{staticClass:"a-file-rotate--2",attrs:{src:t.fileMascot2Image,alt:""}}),t._v(" "),n("img",{staticClass:"a-file-rotate--3",attrs:{src:t.fileMascot3Image,alt:""}})]),t._v(" "),t._m(0)])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"l-margin-18 l-full-col"},[t._v("Loading"),n("span",{staticClass:"c-dot-loader"},[n("span",{staticClass:"a-dot-loader--1"},[t._v(".")]),n("span",{staticClass:"a-dot-loader--2"},[t._v(".")]),n("span",{staticClass:"a-dot-loader--3"},[t._v(".")])])])}],!1,null,null,null).exports,Q=u.Z.extend({name:"LoadMorePagination",props:{contentUrl:{type:String,required:!0},urlParams:{type:URLSearchParams,default:function(){return new URLSearchParams}},listClass:{default:""},buttonContainerClass:{type:String,default:"l-block l-block--1200 l-padding-bottom-60 l-margin-24"},buttonClass:{type:String,default:"o-button--grey l-flex-justify-center l-full-col"},infiniteScroll:{type:Boolean,default:!1},infiniteScrollTriggerDistance:{type:Number,default:250},pageLimit:{type:Number,default:null},pageLimitLink:{type:String,default:null},pageLimitLinkTitle:{type:String,default:"Show All"}},data:function(){return{results:[],isFirstLoad:!0,isLoading:!1,isComplete:!1,currentPage:0,resultCount:null}},computed:{urlSearchParams:function(){var t=new URLSearchParams(this.urlParams.toString());return t.set("page",this.currentPage),t},showLoadMoreButton:function(){return!this.infiniteScroll&&!this.isComplete&&!this.isLoading&&!this.pageLimitReached},currentDistance:{cache:!1,get:function(){return this.$el.getBoundingClientRect().bottom-window.innerHeight}},emptyResults:function(){return 0===this.results.length||1===this.results.length&&""===this.results[0]},pageLimitReached:function(){return null!==this.pageLimit&&this.currentPage>=this.pageLimit}},methods:{requestContent:function(){var t=this;this.isComplete||this.isLoading||this.pageLimitReached||(this.$emit("contentRequested"),this.currentPage+=1,this.isLoading=!0,Rails.ajax({url:this.contentUrl,type:"GET",data:this.urlSearchParams,success:function(e,n,o){t.isLoading=!1,t.resultCount=o.getResponseHeader("search-total-results")?parseInt(o.getResponseHeader("search-total-results")):null,t.isComplete="false"===o.getResponseHeader("search-has-more")||""===e.body.innerHTML,t.isFirstLoad&&(t.results=[]),t.results.push(e.body.innerHTML),t.isFirstLoad=!1},error:function(){t.reset(),t.isComplete=!0,t.isFirstLoad=!1},complete:function(){t.$nextTick((function(){return t.$emit("contentUpdated",U()(t.$refs.results))}))}}))},scrollHandler:F()((function(){this.infiniteScroll&&this.currentDistance<this.infiniteScrollTriggerDistance&&!this.isLoading&&!this.isComplete&&this.requestContent()}),100),reset:function(){this.resultCount=null,this.currentPage=0,this.isLoading=!1,this.results=[]}},watch:{resultCount:function(){this.$emit("resultCountUpdated",this.resultCount)},urlParams:E()((function(t,e){t.toString()!==e.toString()&&(this.reset(),this.isFirstLoad=!0,this.isComplete=!1,this.requestContent())}),400),contentUrl:function(t,e){t.toString()!==e.toString()&&(this.reset(),this.isFirstLoad=!0,this.isComplete=!1,this.requestContent())}},mounted:function(){this.urlParams&&this.requestContent(),window.addEventListener("scroll",this.scrollHandler,(0,j.Z)(!0))},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler)},components:{EmptyState:V,LoadingState:G}}),J=(0,_.Z)(Q,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.results,(function(e,o){return n("div",{key:o,ref:"results",refInFor:!0,class:t.listClass,domProps:{innerHTML:t._s(e)}})})),t._v(" "),t.isComplete&&t.emptyResults?t._t("noResults",(function(){return[n("EmptyState")]})):t._e(),t._v(" "),t.isLoading?t._t("loading",(function(){return[n("LoadingState")]})):t._e(),t._v(" "),t.isComplete&&!t.emptyResults?t._t("noMoreResults"):t._e(),t._v(" "),t.showLoadMoreButton?n("div",{class:t.buttonContainerClass},[n("button",{class:t.buttonClass,on:{click:t.requestContent}},[t._v("Load More...")])]):t._e(),t._v(" "),t.pageLimitReached&&null!==t.pageLimitLink&&!t.emptyResults?n("div",{class:t.buttonContainerClass},[n("a",{class:t.buttonClass,attrs:{href:t.pageLimitLink}},[t._v("\n      "+t._s(t.pageLimitLinkTitle)+"\n    ")])]):t._e()],2)}),[],!1,null,null,null).exports,X=u.Z.extend({name:"LoadingSkeletonCards"}),tt=(0,_.Z)(X,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"l-padding-bottom-120"},[n("div",{staticClass:"l-padding-45"},[n("div",{staticClass:"l-block l-block-wide-padding l-flex-wrap-justify"},[n("div",{staticClass:"o-skeleton__title"}),t._v(" "),n("div",{staticClass:"o-skeleton__button"})]),t._v(" "),n("div",{staticClass:"l-block l-block-wide-padding l-grid-3 l-grid-col-gap-30 l-margin-24 c-skeleton-tutorials"},[n("div",[n("div",{staticClass:"o-skeleton__artwork"}),t._v(" "),n("div",{staticClass:"o-skeleton__title l-margin-15"}),t._v(" "),n("div",{staticClass:"o-skeleton__text l-margin-15"})]),t._v(" "),n("div",[n("div",{staticClass:"o-skeleton__artwork"}),t._v(" "),n("div",{staticClass:"o-skeleton__title l-margin-15"}),t._v(" "),n("div",{staticClass:"o-skeleton__text l-margin-15"})]),t._v(" "),n("div",[n("div",{staticClass:"o-skeleton__artwork"}),t._v(" "),n("div",{staticClass:"o-skeleton__title l-margin-15"}),t._v(" "),n("div",{staticClass:"o-skeleton__text l-margin-15"})])])]),t._v(" "),n("div",{staticClass:"l-margin-45"},[n("div",{staticClass:"l-block l-block-wide-padding l-flex-wrap-justify"},[n("div",{staticClass:"o-skeleton__title"}),t._v(" "),n("div",{staticClass:"o-skeleton__button"})]),t._v(" "),n("div",{staticClass:"l-block l-block-wide-padding l-grid-3 l-grid-col-gap-30 l-margin-24 c-skeleton-tutorials"},[n("div",[n("div",{staticClass:"o-skeleton__artwork"}),t._v(" "),n("div",{staticClass:"o-skeleton__title l-margin-15"}),t._v(" "),n("div",{staticClass:"o-skeleton__text l-margin-15"})]),t._v(" "),n("div",[n("div",{staticClass:"o-skeleton__artwork"}),t._v(" "),n("div",{staticClass:"o-skeleton__title l-margin-15"}),t._v(" "),n("div",{staticClass:"o-skeleton__text l-margin-15"})]),t._v(" "),n("div",[n("div",{staticClass:"o-skeleton__artwork"}),t._v(" "),n("div",{staticClass:"o-skeleton__title l-margin-15"}),t._v(" "),n("div",{staticClass:"o-skeleton__text l-margin-15"})])])])])}],!1,null,null,null).exports,et=new T.Z,nt=new O.Z,ot=u.Z.extend({name:"DomainPageApp",props:{pageId:{required:!0}},data:function(){return{loggedIn:!!window.CAROLUS_ENV.USER_TOKEN}},computed:{currentPageUrl:function(){return"/pages/".concat(this.pageId)}},methods:{refreshAnnotations:function(t){var e=this;this.$nextTick((function(){e.loggedIn&&(et.updateDOMWithUserProgress(t),nt.updateDOMWithBookmarks(t)),q(t),(0,y.Z)(t)}))}},components:{LoadMorePagination:J,LoadingSkeletonCards:tt}}),rt=(0,_.Z)(ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("LoadMorePagination",{attrs:{contentUrl:t.currentPageUrl,infiniteScroll:!0},on:{contentUpdated:t.refreshAnnotations},scopedSlots:t._u([{key:"loading",fn:function(){return[n("LoadingSkeletonCards")]},proxy:!0}])})}),[],!1,null,null,null).exports,it=n(95157),st=n.n(it),at=n(89944),lt=n.n(at),ct=n(8227),ut=n.n(ct);var dt={mixins:[st(),lt(),ut()],props:{value:{default:null},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},maxHeight:{type:String,default:"400px"},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},getOptionLabel:{type:Function,default:function(t){return"object"===typeof t&&this.label&&t[this.label]?t[this.label]:t}},onChange:{type:Function,default:function(t){this.$emit("input",t)}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},createOption:{type:Function,default:function(t){var e,n,o;return"object"===typeof this.mutableOptions[0]&&(e={},n=this.label,o=t,n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,t=e),this.$emit("option:created",t),t}},resetOnOptionsChange:{type:Boolean,default:!1},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"}},data:function(){return{search:"",open:!1,mutableValue:null,mutableOptions:[]}},watch:{value:function(t){this.mutableValue=t},mutableValue:function(t,e){this.multiple?this.onChange&&this.onChange(t):this.onChange&&t!==e&&this.onChange(t)},options:function(t){this.mutableOptions=t},mutableOptions:function(){!this.taggable&&this.resetOnOptionsChange&&(this.mutableValue=this.multiple?[]:null)},multiple:function(t){this.mutableValue=t?[]:null}},created:function(){this.mutableValue=this.value,this.mutableOptions=this.options.slice(0),this.mutableLoading=this.loading,this.$on("option:created",this.maybePushTag)},methods:{select:function(t){this.isOptionSelected(t)?this.deselect(t):(this.taggable&&!this.optionExists(t)&&(t=this.createOption(t)),this.multiple&&!this.mutableValue?this.mutableValue=[t]:this.multiple?this.mutableValue.push(t):this.mutableValue=t),this.onAfterSelect(t)},deselect:function(t){var e=this;if(this.multiple){var n=-1;this.mutableValue.forEach((function(o){(o===t||"object"===typeof o&&o[e.label]===t[e.label])&&(n=o)}));var o=this.mutableValue.indexOf(n);this.mutableValue.splice(o,1)}else this.mutableValue=null},clearSelection:function(){this.mutableValue=this.multiple?[]:null},onAfterSelect:function(t){this.closeOnSelect&&(this.open=!this.open,this.$refs.search.blur()),this.clearSearchOnSelect&&(this.search="")},toggleDropdown:function(t){t.target!==this.$refs.openIndicator&&t.target!==this.$refs.search&&t.target!==this.$refs.toggle&&t.target!==this.$el||(this.open?this.$refs.search.blur():this.disabled||(this.open=!0,this.$refs.search.focus()))},isOptionSelected:function(t){var e=this;if(this.multiple&&this.mutableValue){var n=!1;return this.mutableValue.forEach((function(o){("object"===typeof o&&o[e.label]===t[e.label]||"object"===typeof o&&o[e.label]===t||o===t)&&(n=!0)})),n}return this.mutableValue===t},onEscape:function(){this.search.length?this.search="":this.$refs.search.blur()},onSearchBlur:function(){this.clearSearchOnBlur&&(this.search=""),this.open=!1,this.$emit("search:blur")},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},maybeDeleteValue:function(){if(!this.$refs.search.value.length&&this.mutableValue)return this.multiple?this.mutableValue.pop():this.mutableValue=null},optionExists:function(t){var e=this,n=!1;return this.mutableOptions.forEach((function(o){("object"===typeof o&&o[e.label]===t||o===t)&&(n=!0)})),n},maybePushTag:function(t){this.pushTags&&this.mutableOptions.push(t)}},computed:{dropdownClasses:function(){return{open:this.dropdownOpen,single:!this.multiple,searching:this.searching,searchable:this.searchable,unsearchable:!this.searchable,loading:this.mutableLoading,rtl:"rtl"===this.dir,disabled:this.disabled}},clearSearchOnBlur:function(){return this.clearSearchOnSelect&&!this.multiple},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&(this.open&&!this.mutableLoading)},searchPlaceholder:function(){return this.valueAsArray&&this.valueAsArray.length>0?this.placeholder+" \xb7 "+this.valueAsArray.length:this.placeholder},filteredOptions:function(){var t=this;if(!this.filterable&&!this.taggable)return this.mutableOptions.slice();var e=this.mutableOptions.filter((function(e){return"object"===typeof e&&e.hasOwnProperty(t.label)?e[t.label].toLowerCase().indexOf(t.search.toLowerCase())>-1:"object"!==typeof e||e.hasOwnProperty(t.label)?e.toLowerCase().indexOf(t.search.toLowerCase())>-1:console.warn('[vue-select warn]: Label key "option.'.concat(t.label,'" does not exist in options object.\nhttp://sagalbot.github.io/vue-select/#ex-labels'))}));return this.taggable&&this.search.length&&!this.optionExists(this.search)&&e.unshift(this.search),e},isValueEmpty:function(){return!this.mutableValue||("object"===typeof this.mutableValue?!Object.keys(this.mutableValue).length:!this.mutableValue.length)},valueAsArray:function(){return this.multiple?this.mutableValue:this.mutableValue?[this.mutableValue]:[]},showClearButton:function(){return!this.multiple&&!this.open&&null!=this.mutableValue}}},ft=(0,_.Z)(dt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown v-select",class:t.dropdownClasses,attrs:{dir:t.dir}},[n("div",{ref:"toggle",class:["dropdown-toggle","clearfix"],on:{mousedown:function(e){return e.preventDefault(),t.toggleDropdown.apply(null,arguments)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],ref:"search",staticClass:"form-control",style:{width:t.isValueEmpty?"100%":"auto"},attrs:{type:"search",autocomplete:"false",disabled:t.disabled,placeholder:t.searchPlaceholder,tabindex:t.tabindex,readonly:!t.searchable,id:t.inputId,"aria-label":"Search for option"},domProps:{value:t.search},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"delete",[8,46],e.key,["Backspace","Delete","Del"])?null:t.maybeDeleteValue.apply(null,arguments)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:(e.preventDefault(),t.typeAheadUp.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:(e.preventDefault(),t.typeAheadDown.apply(null,arguments))},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.typeAheadSelect.apply(null,arguments))}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onEscape.apply(null,arguments)},blur:t.onSearchBlur,focus:t.onSearchFocus,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],staticClass:"clear",attrs:{disabled:t.disabled,type:"button",title:"Clear selection"},on:{click:t.clearSelection}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("\xd7")])]),t._v(" "),t.noDrop?t._e():n("i",{ref:"openIndicator",staticClass:"open-indicator",attrs:{role:"presentation"}}),t._v(" "),t._t("spinner",(function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"spinner"},[t._v("Loading...")])]}))],2),t._v(" "),n("transition",{attrs:{name:t.transition}},[t.dropdownOpen?n("ul",{ref:"dropdownMenu",staticClass:"dropdown-menu",style:{"max-height":t.maxHeight}},[t.valueAsArray&&t.valueAsArray.length?n("li",[n("span",[t._v(t._s(t.valueAsArray.length)+" selected")]),n("button",{on:{click:t.clearSelection}},[t._v("Clear")])]):t._e(),t._v(" "),t._l(t.filteredOptions,(function(e,o){return n("li",{key:o,class:{active:t.isOptionSelected(e),highlight:o===t.typeAheadPointer},on:{mouseover:function(e){t.typeAheadPointer=o}}},[n("a",{on:{mousedown:function(n){return n.preventDefault(),t.select(e)}}},[t._t("option",(function(){return[t._v("\n          "+t._s(t.getOptionLabel(e))+"\n        ")]}),null,e)],2)])})),t._v(" "),t.filteredOptions.length?t._e():n("li",{staticClass:"no-options"},[t._t("no-options",(function(){return[t._v("Sorry, no matching options.")]}))],2)],2):t._e()])],1)}),[],!1,null,null,null).exports,ht=(ut(),lt(),st(),ft);function pt(t){return function(t){if(Array.isArray(t))return gt(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var mt=u.Z.extend({name:"FilterSelect",props:{options:{required:!0,type:Array},values:{required:!0,type:Array},placeholder:{required:!0,type:String},labelMethod:{required:!0,type:String},paramName:{required:!0,type:String}},data:function(){return{selectedValues:pt(this.values)}},methods:{optionFor:function(t){return this.options.find((function(e){return e.id===t.id}))[this.labelMethod]},removeOption:function(t){this.selectedValues.splice(this.selectedValues.indexOf(t),1)}},watch:{selectedValues:function(){this.$nextTick((function(){var t=new CustomEvent("form-updated");window.dispatchEvent(t)}))}},components:{VueSelect:ht}}),vt=(0,_.Z)(mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"l-full-col"},[n("VueSelect",{attrs:{multiple:"",label:t.labelMethod,tabindex:2,placeholder:t.placeholder,options:t.options,searchable:!1,closeOnSelect:!1},model:{value:t.selectedValues,callback:function(e){t.selectedValues=e},expression:"selectedValues"}})],1),t._v(" "),n("div",{staticClass:"c-library-filters__added l-full-col"},t._l(t.selectedValues,(function(e){return n("span",{staticClass:"o-tag o-tag--black"},[n("input",{attrs:{type:"hidden",name:t.paramName},domProps:{value:e.id}}),t._v("\n      "+t._s(t.optionFor(e))+"\n      "),n("button",{on:{click:function(n){return t.removeOption(e)}}},[n("svg",{staticClass:"o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#plus"}})])])])})),0)])}),[],!1,null,null,null).exports,yt=n(9018),bt=n(78109),_t=n(36388),kt=u.Z.extend({name:"SubscriptionRequired",props:{buttonClass:String,buttonContent:String,signUpPath:{default:(0,bt.Z)({signup:!0}),type:String},signInPath:{default:(0,bt.Z)({signup:!1}),type:String},eventCategory:{required:!1,type:String},eventAction:{required:!1,type:String}},data:function(){return{subscriptionUrl:"".concat(window.CAROLUS_ENV.KERCHING_BASE_URL,"/products/subscription"),SubscribeSceneImage:_t,showModal:!1}},methods:{recordAccountSignupEvent:function(){(0,y.q)("global_modal_createAccount","createAccount")},handleButtonClick:function(){this.eventCategory&&this.eventAction&&(0,y.q)(this.eventCategory,this.eventAction),this.showModal=!0}},components:{Modal:yt.Z}}),Ct=(0,_.Z)(kt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showModal?n("Modal",{on:{closeModal:function(e){t.showModal=!1}},scopedSlots:t._u([{key:"graphic",fn:function(){return[n("img",{staticClass:"c-modal__artwork--subscribe",staticStyle:{"max-width":"180px !important"},attrs:{src:t.SubscribeSceneImage,alt:"Create account"}})]},proxy:!0},{key:"title",fn:function(){return[t._v("Become a subscriber today "),n("br"),t._v(" "),n("span",{staticClass:"c-modal__subtitle"},[t._v("Access these project files, as well as the project files for 3,000+ videos, as a raywenderlich.com subscriber!")])]},proxy:!0},{key:"content",fn:function(){return[n("a",{staticClass:"o-button--green",attrs:{href:t.subscriptionUrl}},[n("span",{staticClass:"o-button__label"},[t._v("Learn more")]),t._v(" "),n("i",{staticClass:"o-button__icon--right o-button__icon--white"},[n("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--green"},[n("use",{attrs:{"xlink:href":"#arrow-right"}})])])])]},proxy:!0}],null,!1,2988882415)}):t._e(),t._v(" "),t.buttonContent?n("button",{class:t.buttonClass,domProps:{innerHTML:t._s(t.buttonContent)},on:{click:t.handleButtonClick}}):n("button",{class:t.buttonClass,on:{click:t.handleButtonClick}},[t._t("default")],2)],1)}),[],!1,null,null,null).exports,wt=u.Z.extend({name:"MarkAsCompleteButton",props:{initiallyComplete:{type:Boolean,default:!1},loggedIn:{type:Boolean,required:!0},contentId:{type:Number,required:!0},contentDuration:{type:Number,required:!0},articleContainerSelector:{type:String,default:null},contentType:{type:String,default:"tutorial"},trackedEventCategory:{type:String,default:"article_end_markComplete"},trackedEventAction:{type:String,default:"markComplete"}},computed:{buttonText:function(){return this.complete?"Completed":"Mark Complete"},buttonClass:function(){return this.complete?"o-button--green":"o-button--dark"}},data:function(){return{complete:this.initiallyComplete,inProgress:!1,networkOperationInProgress:!1,articleContainer:this.articleContainerSelector?document.querySelector(this.articleContainerSelector):null,shouldTrackInProgress:!this.initiallyComplete}},methods:{toggleComplete:function(){this.inProgress=!1,this.shouldTrackInProgress=!1,this.complete=!this.complete,this.updateProgression()},updateProgression:function(){var t=this;this.networkOperationInProgress=!0;var e=new FormData,n=this.complete?this.contentDuration:this.inProgress?1:0;e.append("progression[content_id]",this.contentId),e.append("progression[progress]",n),e.append("progression[target]",this.contentDuration),e.append("progression[finished]",this.complete),Rails.ajax({url:"/progressions",type:"POST",data:e,dataType:"json",complete:function(){t.networkOperationInProgress=!1},success:function(){t.emitNotification()},error:function(t){console.log(t)}})},emitNotification:function(){this.inProgress||(this.complete?(m.N.$emit(v.a7,"You have marked this ".concat(this.contentType," as complete."),!0),m.N.$emit(v.gS,this.contentId),(0,y.q)(this.trackedEventCategory,this.trackedEventAction)):(m.N.$emit(v.a7,"You have marked this ".concat(this.contentType," as incomplete."),!0),m.N.$emit(v.SQ,this.contentId)))},scrollHandler:F()((function(){this.loggedIn&&(this.networkOperationInProgress||this.shouldTrackInProgress&&this.userHasStartedReadingArticle()&&(this.inProgress=!0,this.shouldTrackInProgress=!1,this.updateProgression()))}),100),userHasStartedReadingArticle:function(){if(!this.articleContainer)return!1;var t=this.articleContainer.getBoundingClientRect();return t.top<Math.max(-1500,-.5*t.height)}},created:function(){var t=this;m.N.$on(v.gS,(function(e){t.contentId!==e||t.complete||(t.complete=!0)})),m.N.$on(v.SQ,(function(e){t.contentId===e&&t.complete&&(t.complete=!1)}))},mounted:function(){window.addEventListener("scroll",this.scrollHandler,(0,j.Z)(!0))},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler)},components:{LoginRequiredButton:C.Z,ButtonContent:w.Z}}),St=(0,_.Z)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loggedIn?n("button",{class:[t.buttonClass,"l-margin-sides-8"],on:{click:t.toggleComplete}},[n("ButtonContent",{attrs:{text:t.buttonText,checked:t.complete,saving:t.networkOperationInProgress,disabled:t.networkOperationInProgress,svgUncheckedClass:"l-button__svg-checkmark o-button__svg--green",svgCheckedClass:"l-button__svg-checkmark o-button__svg--green",svgCheckedHref:"#checkmark--green"}})],1):n("LoginRequiredButton",{attrs:{buttonClass:"o-button--dark l-margin-sides-8",eventCategory:"article_end_markCompleteAttempt",eventAction:"markComplete"}},[n("ButtonContent",{attrs:{text:t.buttonText,svgUncheckedClass:"l-button__svg-checkmark o-button__svg--green"}})],1)}),[],!1,null,null,null).exports,xt=u.Z.extend({name:"MarkAsCompleteButtonWrapper",props:{originalHTML:{type:String,default:null},disableLoginModal:{type:Boolean,default:!1},loggedIn:{type:Boolean,default:!1},markCompleteContentId:{type:Number,required:!0},markCompleteContentTargetDuration:{type:Number,required:!0},markCompleteClass:{type:String,default:null},markCompleteFadeOut:{type:Boolean,default:!1},markCompleteTargetSelector:{type:String,default:null},preventToggle:{type:Boolean,default:!1},contentType:{type:String,default:"tutorial"}},data:function(){return{complete:null,networkOperationInProgress:!1}},computed:{targetElement:function(){return this.markCompleteTargetSelector&&this.markCompleteTargetSelector.length>0?document.querySelector(this.markCompleteTargetSelector):this.$el.parentElement},renderLoginButton:function(){return!this.loggedIn&&(!this.preventToggle&&!this.disableLoginModal)}},methods:{toggle:function(){this.preventToggle||this.disableLoginModal&&!this.loggedIn||this.networkOperationInProgress||this.updateProgression()},updateProgression:function(){var t=this;this.networkOperationInProgress=!0,this.complete=this.targetElement.classList.toggle(this.markCompleteClass);var e=this.complete?this.markCompleteContentTargetDuration:0,n=new FormData;n.append("progression[content_id]",this.markCompleteContentId),n.append("progression[progress]",e),n.append("progression[finished]",this.complete),Rails.ajax({url:"/progressions",type:"POST",data:n,dataType:"json",complete:function(){t.networkOperationInProgress=!1},success:function(){t.emitNotification(),t.markCompleteFadeOut&&(t.targetElement.addEventListener("animationend",(function(){t.targetElement.parentNode.removeChild(t.targetElement)})),t.targetElement.style.animationName="a-fade-out")},error:function(t){console.log(t)}})},emitNotification:function(){this.complete?(m.N.$emit(v.a7,"You have marked this ".concat(this.contentType," as complete."),!0),m.N.$emit(v.gS,this.markCompleteContentId),(0,y.q)("content_markComplete","markComplete")):(m.N.$emit(v.a7,"You have marked this ".concat(this.contentType," as incomplete."),!0),m.N.$emit(v.SQ,this.markCompleteContentId))}},created:function(){var t=this;m.N.$on(v.gS,(function(e){t.markCompleteContentId!==e||t.complete||(t.targetElement.classList.add(t.markCompleteClass),t.complete=!0)})),m.N.$on(v.SQ,(function(e){t.markCompleteContentId===e&&t.complete&&(t.targetElement.classList.remove(t.markCompleteClass),t.complete=!1)}))},components:{LoginRequiredButton:C.Z}}),Tt=(0,_.Z)(xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.renderLoginButton?n("LoginRequiredButton",{attrs:{eventCategory:"content_markCompleteAttempt",eventAction:"markComplete"}},[n("span",{domProps:{innerHTML:t._s(t.originalHTML)}})]):n("span",{domProps:{innerHTML:t._s(t.originalHTML)},on:{click:t.toggle}})}),[],!1,null,null,null).exports,Ot=u.Z.extend({name:"StickyBanner",props:{scrollDistanceToDisplay:{type:Number,default:250},content:{type:String,default:null},userClosed:{type:Boolean,default:!1},containerClass:{type:String,default:""}},data:function(){return{showForScroll:!1,commentsSection:document.getElementsByClassName("c-forum-comments")[0],endOfContentSection:document.getElementById("end-of-content")}},methods:{scrollHandler:F()((function(){var t=window.scrollY>this.scrollDistanceToDisplay,e=this.commentsSection&&this.commentsCurrentlyVisible(),n=this.endOfContentCurrentlyVisible();this.showForScroll=t&&!e&&!n}),100),handleCloseClicked:function(){this.userClosed=!0},commentsCurrentlyVisible:function(){return!!this.commentsSection&&this.commentsSection.getBoundingClientRect().top<window.innerHeight},endOfContentCurrentlyVisible:function(){return!!this.endOfContentSection&&this.endOfContentSection.getBoundingClientRect().top<window.innerHeight}},mounted:function(){window.addEventListener("scroll",this.scrollHandler,(0,j.Z)(!0))},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler)}}),Pt=(0,_.Z)(Ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",[t.showForScroll&&!t.userClosed&&t.content?n("div",{class:t.containerClass,domProps:{innerHTML:t._s(t.content)}}):t.showForScroll&&!t.userClosed?t._t("default"):t._e()],2)}),[],!1,null,"8cc7faac",null).exports,Et=n(6665),At=u.Z.extend({name:"VideoBeginnerSubscriptionSignup",data:function(){return{beginnerSubscriptionImage:Et,subscriptionUrl:"".concat(window.CAROLUS_ENV.KERCHING_BASE_URL,"/products/subscription")}},methods:{handleClose:function(){this.$emit("closeClicked")},handleClick:function(){(0,y.q)("article_product_subscription","subscription")}}}),Lt=(0,_.Z)(At,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-banner-draper-sticky c-banner-draper-sticky--subscribe"},[n("div",{staticClass:"c-banner-draper-sticky__wrapper l-block--912 l-margin-auto l-padding-sides-24--tablet"},[n("img",{attrs:{src:t.beginnerSubscriptionImage,alt:""}}),t._v(" "),n("p",[t._v("Subscribe now to get full access to our entire catalogue of 4,000+ mobile development videos and 50+ online books.")]),t._v(" "),n("a",{staticClass:"o-button--green",attrs:{href:t.subscriptionUrl},on:{click:t.handleClick}},[n("span",{staticClass:"o-button__label"},[t._v("Learn more")]),t._v(" "),n("i",{staticClass:"o-button__icon--right o-button__icon--white"},[n("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--green"},[n("use",{attrs:{"xlink:href":"#arrow-right"}})])])]),t._v(" "),n("button",{staticClass:"o-alert__close",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[n("span",[n("svg",{staticClass:"l-button__svg-close o-button__svg o-button__svg--black"},[n("use",{attrs:{"xlink:href":"#plus--black"}})])])])])])}),[],!1,null,null,null).exports,It=n(32647),jt=u.Z.extend({name:"VideoProfessionalSubscriptionSignup",props:{isUpgrade:{type:Boolean,default:!1}},data:function(){return{professionalSubscriptionImage:It,subscriptionUrl:"".concat(window.CAROLUS_ENV.KERCHING_BASE_URL,"/products/subscription")}},methods:{handleClose:function(){this.$emit("closeClicked")},handleClick:function(){(0,y.q)("article_product_subscription","subscription")}}}),Rt=(0,_.Z)(jt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-banner-draper-sticky c-banner-draper-sticky--pro-subscribe"},[n("div",{staticClass:"c-banner-draper-sticky__wrapper l-block l-block--1080"},[n("img",{attrs:{src:t.professionalSubscriptionImage,alt:""}}),t._v(" "),n("p",[t._v("Access our entire catalogue of advanced books and video courses for professional developers with raywenderlich.com Ultimate Professional.")]),t._v(" "),n("a",{staticClass:"o-button--white-blue",attrs:{href:t.subscriptionUrl},on:{click:t.handleClick}},[t.isUpgrade?n("span",{staticClass:"o-button__label"},[t._v("Upgrade now")]):n("span",{staticClass:"o-button__label"},[t._v("Learn more")]),t._v(" "),n("i",{staticClass:"o-button__icon--right o-button__icon--blue"},[n("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#arrow-right"}})])])]),t._v(" "),n("button",{staticClass:"o-alert__close",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[n("span",[n("svg",{staticClass:"l-button__svg-close o-button__svg o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#plus"}})])])])])])}),[],!1,null,null,null).exports,Nt=n(40798),Bt=u.Z.extend({name:"PromoGetSubscription",data:function(){return{blackFriday21SubscriptionImage:Nt,subscriptionUrl:"".concat(window.CAROLUS_ENV.KERCHING_BASE_URL,"/products/subscription")}},methods:{handleClose:function(){this.$emit("closeClicked")},handleClick:function(){(0,y.q)("article_product_subscription","subscription")}}}),$t=(0,_.Z)(Bt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-banner-draper-sticky l-black-friday-ui-sales-2021"},[n("div",{staticClass:"c-banner-draper-sticky__wrapper l-block--912 l-margin-auto l-padding-sides-24--tablet"},[n("img",{attrs:{src:t.blackFriday21SubscriptionImage,alt:""}}),t._v(" "),t._m(0),t._v(" "),n("a",{staticClass:"o-button--green",attrs:{href:t.subscriptionUrl},on:{click:t.handleClick}},[n("span",{staticClass:"o-button__label"},[t._v("Get it now")]),t._v(" "),n("i",{staticClass:"o-button__icon--right o-button__icon--white"},[n("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--green"},[n("use",{attrs:{"xlink:href":"#arrow-right"}})])])]),t._v(" "),n("button",{staticClass:"o-alert__close",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[n("span",[n("svg",{staticClass:"l-button__svg-close o-button__svg o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#plus"}})])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Introducing unlimited access to all video courses, all books, and our new monthly live professional development series! Just "),n("span",{staticClass:"l-font-line"},[t._v("$899")]),t._v(" $399 per year during our Cyber Monday event.")])}],!1,null,null,null).exports,qt=u.Z.extend({name:"PromoUpgradeSubscription",data:function(){return{blackFriday21SubscriptionImage:Nt,subscriptionUrl:"".concat(window.CAROLUS_ENV.KERCHING_BASE_URL,"/subscription/promo")}},methods:{handleClose:function(){this.$emit("closeClicked")},handleClick:function(){(0,y.q)("article_product_subscription","subscription")}}}),Zt=(0,_.Z)(qt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-banner-draper-sticky l-black-friday-ui-sales-2021"},[n("div",{staticClass:"c-banner-draper-sticky__wrapper l-block--912 l-margin-auto l-padding-sides-24--tablet"},[n("img",{attrs:{src:t.blackFriday21SubscriptionImage,alt:""}}),t._v(" "),t._m(0),t._v(" "),n("a",{staticClass:"o-button--green",attrs:{href:t.subscriptionUrl},on:{click:t.handleClick}},[n("span",{staticClass:"o-button__label"},[t._v("Upgrade now")]),t._v(" "),n("i",{staticClass:"o-button__icon--right o-button__icon--white"},[n("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--green"},[n("use",{attrs:{"xlink:href":"#arrow-right"}})])])]),t._v(" "),n("button",{staticClass:"o-alert__close",attrs:{type:"button","aria-label":"Close"},on:{click:t.handleClose}},[n("span",[n("svg",{staticClass:"l-button__svg-close o-button__svg o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#plus"}})])])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"l-color-white"},[t._v("Upgrade to get unlimited access to all video courses, all books, and our new monthly live professional development series! Just "),n("span",{staticClass:"l-font-line"},[t._v("$899")]),t._v(" $359 per year during our Cyber Monday event for existing subscribers like you.")])}],!1,null,null,null).exports,Ut=u.Z.extend({name:"StickySmartBanner",props:{user:{type:Object,default:null},permissionTags:{type:Array,default:function(){return[]}},signUpPath:{default:"/sessions/new?mode=signup",type:String},enableLegacyPromo:{default:!1,type:Boolean},legacyPromoState:{default:"",type:String}},data:function(){return{userClosed:!1}},computed:{showVideoBeginnerSubscriptionSignup:function(){return!this.enableLegacyPromo&&(null===this.user||!this.user.group_manager)&&!this.permissionTags.includes("stream-beginner-videos")},showVideoProfessionalSubscriptionSignup:function(){return!this.enableLegacyPromo&&!this.user.group_manager&&!this.showVideoBeginnerSubscriptionSignup&&!this.permissionTags.includes("read-professional-books")},isUpgrade:function(){return this.permissionTags.includes("stream-beginner-videos")&&!this.permissionTags.includes("read-professional-books")},showPromoGetSubscription:function(){return this.enableLegacyPromo&&"get_subscription"===this.legacyPromoState},showPromoUpgradeSubscription:function(){return this.enableLegacyPromo&&"upgrade_ultimate"===this.legacyPromoState}},methods:{handleCloseClicked:function(){this.userClosed=!0},requiresPermissionTag:function(t){}},components:{StickyBanner:Pt,VideoBeginnerSubscriptionSignup:Lt,VideoProfessionalSubscriptionSignup:Rt,PromoGetSubscription:$t,PromoUpgradeSubscription:Zt}}),Mt=(0,_.Z)(Ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("StickyBanner",{attrs:{userClosed:t.userClosed}},[t.showPromoGetSubscription?n("PromoGetSubscription",{on:{closeClicked:t.handleCloseClicked}}):t.showPromoUpgradeSubscription?n("PromoUpgradeSubscription",{on:{closeClicked:t.handleCloseClicked}}):t.showVideoBeginnerSubscriptionSignup?n("VideoBeginnerSubscriptionSignup",{on:{closeClicked:t.handleCloseClicked}}):t.showVideoProfessionalSubscriptionSignup?n("VideoProfessionalSubscriptionSignup",{attrs:{isUpgrade:t.isUpgrade},on:{closeClicked:t.handleCloseClicked}}):t._e()],1)}),[],!1,null,null,null).exports,Ft=u.Z.extend({name:"NewsletterSignupButton",props:{userId:{type:String,required:!0},userToken:{type:String,required:!0},eventCategory:{type:String,required:!1}},data:function(){return{networkOperationInProgress:!1,signedUp:!1}},methods:{handleClick:function(){var t=this;if(!this.signedUp){this.networkOperationInProgress=!0;var e=new FormData;e.append("newsletter_subscriber",!0),Rails.ajax({url:"".concat(window.CAROLUS_ENV.GUARDPOST_BASE_URL,"/users/").concat(this.userId,"/update_subscriptions"),type:"PATCH",dataType:"json",data:e,success:function(e){t.signedUp=!0,t.$emit("success"),m.N.$emit(v.a7,"You have successfully signed up to the raywenderlich.com newsletter.",!0),t.eventCategory&&(0,y.q)(t.eventCategory,"newsletter")},error:function(e){t.$emit("failure"),m.N.$emit(v.ax,"There was a problem signing up to the newsletter. Please try again later.",!0)},complete:function(e){t.$emit("complete"),t.networkOperationInProgress=!1},beforeSend:function(e){return e.setRequestHeader("Authorization","Token ".concat(t.userToken)),!0}})}}},components:{ButtonContent:w.Z}}),Dt=(0,_.Z)(Ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"o-button--green",on:{click:t.handleClick}},[n("ButtonContent",{attrs:{text:"Sign up to the newsletter",checked:t.signedUp,saving:t.networkOperationInProgress,disabled:t.networkOperationInProgress,iconInputClass:"o-button__icon--left o-button__icon--white",svgUncheckedClass:"o-button__svg--green l-button__svg-plus",svgUncheckedHref:"#plus--green",svgCheckedClass:"l-button__svg-checkmark o-button__svg--green",svgCheckedHref:"#checkmark--green"}})],1)}),[],!1,null,null,null).exports,Ht=u.Z.extend({name:"VideoPlayerModal",props:{video:{type:Object},contentId:{type:Number,default:null},videoId:{type:Number,default:null},trailerUrl:{type:String},playButtonLabel:{type:String}},data:function(){return{showModal:!1}},computed:{hasButtonLabel:function(){return!!this.playButtonLabel},buttonClass:function(){return{"o-button":!0,"o-button-video":!this.hasButtonLabel,"o-button-video-start":this.hasButtonLabel,"a-pulse":!0}},buttonSvgClass:function(){return{"o-button__icon--left":this.hasButtonLabel}}},methods:{toggle:function(){this.showModal=!this.showModal}}}),Vt=(0,_.Z)(Ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showModal?n("div",{staticClass:"c-modal c-modal--trailer",on:{click:t.toggle}},[n("div",{staticClass:"c-modal-wrapper"},[n("button",{staticClass:"c-modal__close o-icon-button o-button__icon--dark",on:{click:function(e){return e.stopPropagation(),t.toggle.apply(null,arguments)}}},[n("svg",[n("use",{attrs:{"xlink:href":"#plus--dark-blue"}})])]),t._v(" "),n("div",{staticClass:"c-modal__copy"},[t.contentId&&t.videoId?n("div",{staticClass:"l-margin-24 l-flex-justify-center"},[n("div",{staticClass:"c-video-player__video l-relative",attrs:{"data-controller":"player","data-player-autoplay-value":"true","data-player-content-id-value":t.contentId,"data-player-video-id-value":t.videoId}},[n("div",{staticClass:"vimeo-player",attrs:{"data-player-target":"playerView"}})])]):t.trailerUrl?n("div",{staticClass:"c-modal__player l-margin-24 l-flex-justify-center"},[n("iframe",{attrs:{src:t.trailerUrl,width:"640",height:"360",webkitallowfullscreen:"webkitallowfullscreen",mozallowfullscreen:"mozallowfullscreen",allowfullscreen:"allowfullscreen"}})]):t._e()])])]):t._e(),t._v(" "),n("button",{class:t.buttonClass,on:{click:t.toggle}},[n("svg",{class:t.buttonSvgClass},[n("use",{attrs:{"xlink:href":"#play"}})]),t._v(" "),t.hasButtonLabel?n("span",{staticClass:"o-button__label"},[t._v(t._s(t.playButtonLabel))]):t._e()])])}),[],!1,null,null,null).exports,zt=n(95909),Yt=u.Z.extend({name:"BookSearchOverlay",props:{showOverlay:{type:Boolean,default:!1},url:{type:String,required:!0}},data:function(){return{loading:!1,noResults:!1,query:"",results:"",page:0,maxPage:null}},computed:{showNextPage:function(){return this.page<this.maxPage},showPreviousPage:function(){return this.page>0}},methods:{loadResults:function(){var t=this;this.loading=!0;var e=(0,zt.Z)({q:this.query,page:this.page.toString()});Rails.ajax({url:this.url,type:"GET",data:e,success:function(e,n,o){t.loading=!1,t.noResults=!1,t.results=e.body.innerHTML,t.maxPage=o.getResponseHeader("search-max-page")?parseInt(o.getResponseHeader("search-max-page")):null},error:function(){t.loading=!1,t.noResults=!0,t.maxPage=null}})},debouncedLoadResults:E()((function(t){this.loadResults()}),500),toggleVisibility:function(){this.showOverlay=!this.showOverlay},resultClicked:function(t){this.toggleVisibility()},loadNextPage:function(){this.showNextPage&&(this.page+=1,this.loadResults())},loadPreviousPage:function(){this.showPreviousPage&&(this.page-=1,this.loadResults())}},watch:{query:function(){this.maxPage=null,this.page=0,this.query&&""!==this.query?this.debouncedLoadResults():(this.noResults=!1,this.loading=!1,this.results="")},showOverlay:function(){var t=this;this.query="",this.results="",this.loading="",this.maxPage=null,this.showOverlay&&this.$nextTick((function(){return t.$refs.searchField.focus()}))}},mounted:function(){var t=this;document.querySelectorAll("[data-book-search-trigger]").forEach((function(e){e.addEventListener("click",(function(e){t.toggleVisibility()}))}))}}),Kt=(0,_.Z)(Yt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showOverlay?n("div",{staticClass:"c-global-search c-global-search--overlay c-global-search--book"},[n("div",{staticClass:"l-block l-block--card-medium"},[n("div",[n("div",{staticClass:"l-full-col input__group"},[n("i",{staticClass:"c-global-search__close",attrs:{"aria-label":"Close"},on:{click:t.toggleVisibility}},[n("svg",{staticClass:"o-button__svg--grey-regent l-button__svg-close"},[n("use",{attrs:{"xlink:href":"#plus"}})])]),t._v(" "),n("svg",{staticClass:"input__icon-svg--search"},[n("use",{attrs:{"xlink:href":"#search"}})]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"searchField",staticClass:"o-input l-full-col",attrs:{type:"text",placeholder:"Search inside this book"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"c-global-search__recommendations l-margin-bottom-60"},[t.loading?n("div",[t._m(0)]):n("div",[t.noResults?n("div",[n("div",{staticClass:"c-search__no-results"},[n("h3",{staticClass:"l-color-white"},[t._v("We couldn\u2019t find any results for")]),t._v(" "),n("p",{staticClass:"l-color-white"},[t._v("'"+t._s(t.query)+"'")])])]):n("div",[n("div",{staticClass:"c-search__results",domProps:{innerHTML:t._s(t.results)},on:{click:t.resultClicked}}),t._v(" "),t.showPreviousPage||t.showNextPage?n("div",{staticClass:"c-paginator"},[t.showPreviousPage?n("a",{staticClass:"c-paginator__back",on:{click:t.loadPreviousPage}},[n("svg",[n("use",{attrs:{"xlink:href":"#arrow-left"}})]),t._v(" "),n("span",[t._v("Prev")])]):t._e(),t._v(" "),t.showNextPage?n("a",{staticClass:"c-paginator__forward",on:{click:t.loadNextPage}},[n("span",[t._v("Next")]),t._v(" "),n("svg",[n("use",{attrs:{"xlink:href":"#arrow-right"}})])]):t._e()]):t._e()])])])])]):t._e()}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h3",{staticClass:"l-margin-24 l-text-align-center"},[t._v("Searching"),n("span",{staticClass:"c-dot-loader"},[n("span",{staticClass:"a-dot-loader--1"},[t._v(".")]),n("span",{staticClass:"a-dot-loader--2"},[t._v(".")]),n("span",{staticClass:"a-dot-loader--3"},[t._v(".")])])])}],!1,null,null,null).exports,Wt=n(79306),Gt=n(18269),Qt="night-mode-on",Jt="night-mode-on-os",Xt=u.Z.extend({name:"NightModeToggle",data:function(){return{active:this.defaultStateAndSetDefaultCookie()}},created:function(){this.setClass()},methods:{defaultStateAndSetDefaultCookie:function(){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;return(0,h.d8)(Jt,t,{expires:"10Y"}),(0,h.ej)(Qt)?"true"===(0,h.ej)(Qt):"true"===(0,h.ej)(Jt)},buttonClicked:function(){this.active=!this.active,(0,h.d8)(Qt,this.active,{expires:"10Y"}),this.setClass(),m.N.$emit(v.ON,this.active)},setClass:function(){document.body.classList.toggle("l-prefers-color-scheme--dark",this.active)}}}),te=(0,_.Z)(Xt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{on:{click:t.buttonClicked}},[n("i",{staticClass:"o-dropdown-menu__icon o-dropdown-menu__icon--night-mode"},[n("svg",[n("title",[t._v("Dark Mode")]),n("use",{attrs:{"xlink:href":"#moon"}})])]),t._v(" "),n("a",{staticClass:"l-cursor-pointer"},[t._v("\n    Night Mode ("+t._s(t.active?"On":"Off")+")\n    "),n("label",{staticClass:"o-checkbox"},[n("input",{staticClass:"checkbox__input",attrs:{type:"checkbox"},domProps:{checked:t.active},on:{click:t.buttonClicked}}),t._v(" "),n("span",{staticClass:"checkbox__indicator"},[n("svg",[n("use",{attrs:{"xlink:href":"#checkmark"}})])])])])])}),[],!1,null,null,null).exports,ee=u.Z.extend({name:"LoadingSkeletonList"}),ne=(0,_.Z)(ee,(function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"l-margin-30"},[n("div",{staticClass:"l-margin-30 l-flex-wrap"},[n("div",{staticClass:"l-flex l-full-col o-skeleton-card o-skeleton-card--small "},[n("div",{staticClass:"o-skeleton__graphic o-skeleton__graphic--large"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta-wrapper"},[n("div",{staticClass:"o-skeleton-sidebar__meta o-skeleton-sidebar__meta--large"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta l-margin-9"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta o-skeleton-sidebar__meta--small"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta l-margin-9"})])]),t._v(" "),n("div",{staticClass:"l-flex l-full-col l-margin-15 o-skeleton-card o-skeleton-card--small "},[n("div",{staticClass:"o-skeleton__graphic o-skeleton__graphic--large"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta-wrapper"},[n("div",{staticClass:"o-skeleton-sidebar__meta o-skeleton-sidebar__meta--large"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta l-margin-9"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta o-skeleton-sidebar__meta--small"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta l-margin-9"})])]),t._v(" "),n("div",{staticClass:"l-flex l-full-col l-margin-15 o-skeleton-card o-skeleton-card--small "},[n("div",{staticClass:"o-skeleton__graphic o-skeleton__graphic--large"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta-wrapper"},[n("div",{staticClass:"o-skeleton-sidebar__meta o-skeleton-sidebar__meta--large"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta l-margin-9"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta o-skeleton-sidebar__meta--small"}),t._v(" "),n("div",{staticClass:"o-skeleton-sidebar__meta l-margin-9"})])])])])])}],!1,null,null,null).exports,oe=new T.Z,re=new O.Z,ie=u.Z.extend({name:"UserBookmarks",props:{username:{type:String,required:!0}},data:function(){return{}},components:{LoadMorePagination:J,LoadingSkeletonList:ne},methods:{refreshAnnotations:function(t){this.$nextTick((function(){oe.updateDOMWithUserProgress(t),re.updateDOMWithBookmarks(t)}))}}}),se=(0,_.Z)(ie,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"c-tutorial--list c-tutorial--mason c-tutorial--mason-large l-margin-27 l-margin-bottom-45"},[n("LoadMorePagination",{attrs:{contentUrl:"/u/"+t.username+"/bookmarked",listClass:"c-tutorial--list__page"},on:{contentUpdated:t.refreshAnnotations},scopedSlots:t._u([{key:"noResults",fn:function(){return[n("div",{staticClass:"c-profile__empty"},[n("h4",{staticClass:"l-margin-21"},[t._v("It's looking very empty in here")])])]},proxy:!0},{key:"loading",fn:function(){return[n("LoadingSkeletonList")]},proxy:!0}])})],1)])}),[],!1,null,null,null).exports,ae=n(34078),le=u.Z.extend({name:"UserContent",props:{username:{type:String,required:!0},authoredCount:{type:Number,required:!0}},data:function(){return{contributionsEmptyImage:ae,selectedTab:this.authoredCount>0?"authored":""}},methods:{refreshAnnotations:function(t){this.$nextTick((function(){(0,g.Z)("[data-mark-complete-wrapper]",Tt,t)}))}},components:{LoadMorePagination:J,LoadingSkeletonList:ne}}),ce=(0,_.Z)(le,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-profile__links l-overflow-hidden--mobile"},[n("div",{staticClass:"l-overflow-x"},[n("ul",{staticClass:"c-tabs"},[t.authoredCount>0?n("li",{class:{"c-tabs--active":"authored"===t.selectedTab},on:{click:function(e){t.selectedTab="authored"}}},[t._v("\n        Contributions ("+t._s(t.authoredCount)+")\n      ")]):t._e()])]),t._v(" "),n("div",{staticClass:"c-tutorial--list c-tutorial--mason c-tutorial--mason-large c-tutorial--contributor l-margin-21 l-padding-bottom-120"},[n("div",{staticClass:"c-profile__contributions u-hide",class:{"u-show":"authored"===t.selectedTab}},[n("LoadMorePagination",{attrs:{contentUrl:"/u/"+t.username+"/authored",listClass:"c-tutorial--list__page"},on:{contentUpdated:t.refreshAnnotations},scopedSlots:t._u([{key:"noResults",fn:function(){return[n("div",{staticClass:"c-profile__empty"},[n("img",{staticClass:"l-margin-21",attrs:{src:t.contributionsEmptyImage}}),t._v(" "),n("h4",{staticClass:"l-margin-21"},[t._v("No contributions")])])]},proxy:!0},{key:"loading",fn:function(){return[n("LoadingSkeletonList")]},proxy:!0}])})],1)])])}),[],!1,null,null,null).exports,ue=u.Z.extend({name:"UserContent",props:{username:{type:String,required:!0},inProgressCount:{type:Number,required:!0},completedCount:{type:Number,required:!0}},data:function(){return{selectedTab:"inProgress",inProgressFeaturedRendering:"",liveCompletedCount:this.completedCount,liveInProgressCount:this.inProgressCount,inProgressUrlParams:new URLSearchParams,completedUrlParams:new URLSearchParams}},methods:{loadInProgressFeatured:function(){var t=this;Rails.ajax({url:"/u/".concat(this.username,"/in_progress?page=0"),type:"GET",success:function(e){t.inProgressFeaturedRendering=e.body.innerHTML,t.contentUpdated(t.$refs.inProgressFeaturedRendering)}})},contentUpdated:function(t){(0,y.Z)(t),this.$nextTick((function(){(0,g.Z)("[data-mark-complete-wrapper]",Tt,t)}))}},created:function(){var t=this;this.loadInProgressFeatured(),m.N.$on(v.gS,(function(){t.liveInProgressCount--,t.liveCompletedCount++,t.inProgressUrlParams=new URLSearchParams({t:Date.now()}),t.completedUrlParams=new URLSearchParams({t:Date.now()}),t.loadInProgressFeatured()})),m.N.$on(v.SQ,(function(){t.liveInProgressCount++,t.liveCompletedCount--,t.inProgressUrlParams=new URLSearchParams({t:Date.now()}),t.loadInProgressFeatured()}))},components:{EmptyState:V,LoadMorePagination:J,LoadingSkeletonList:ne}}),de=(0,_.Z)(ue,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"l-home-hero__controls l-flex-nowrap-justify l-flex-align-center"},[n("h3",{staticClass:"l-whitespace"},[t._v("My Progress")]),t._v(" "),n("ul",{staticClass:"c-tabs l-flex-justify-right l-no-border"},[n("li",{class:{"c-tabs--active":"inProgress"===t.selectedTab},on:{click:function(e){t.selectedTab="inProgress"}}},[t._v("\n        In Progress ("+t._s(t.liveInProgressCount)+")\n      ")]),t._v(" "),n("li",{class:{"c-tabs--active":"completed"===t.selectedTab},on:{click:function(e){t.selectedTab="completed"}}},[t._v("\n        Completed ("+t._s(t.liveCompletedCount)+")\n      ")])])]),t._v(" "),n("div",{staticClass:"c-tutorials__in-progress u-hide",class:{"u-show":"inProgress"===t.selectedTab}},[n("div",{ref:"inProgressFeaturedRendering",staticClass:"c-tutorial--list l-home-hero__video-wrapper l-margin-18",domProps:{innerHTML:t._s(t.inProgressFeaturedRendering)}}),t._v(" "),""!==t.inProgressFeaturedRendering?n("h4",{staticClass:"l-margin-30"},[t._v("More In Progress")]):t._e(),t._v(" "),n("div",{staticClass:"c-tutorial--list l-margin-24"},[n("LoadMorePagination",{attrs:{contentUrl:"/u/"+t.username+"/in_progress",urlParams:t.inProgressUrlParams,listClass:"c-tutorial--list l-margin-24",buttonContainerClass:"l-margin-30 l-text-align-center",buttonClass:"o-button--dark",pageLimit:1,pageLimitLink:"/u/"+t.username},on:{contentUpdated:t.contentUpdated},scopedSlots:t._u([{key:"noResults",fn:function(){return[n("EmptyState",{attrs:{title:"You have no tutorials in progress!"}})]},proxy:!0},{key:"loading",fn:function(){return[n("LoadingSkeletonList")]},proxy:!0}])})],1)]),t._v(" "),n("div",{staticClass:"c-tutorials__complete u-hide",class:{"u-show":"completed"===t.selectedTab}},[n("div",{staticClass:"c-tutorial--list l-margin-24"},[n("LoadMorePagination",{attrs:{contentUrl:"/u/"+t.username+"/completed",urlParams:t.completedUrlParams,listClass:"c-tutorial--list l-margin-24",buttonContainerClass:"l-margin-30 l-text-align-center",buttonClass:"o-button--dark",pageLimit:1,pageLimitLink:"/u/"+t.username},on:{contentUpdated:t.contentUpdated},scopedSlots:t._u([{key:"noResults",fn:function(){return[n("EmptyState",{attrs:{title:"You haven't completed any tutorials yet!"}})]},proxy:!0},{key:"loading",fn:function(){return[n("LoadingSkeletonList")]},proxy:!0}])})],1)])])}),[],!1,null,null,null).exports,fe=n(25325),he=n.n(fe),pe=n(23075),ge=new O.Z,me=u.Z.extend({name:"UserCuratedContent",props:{domains:{type:Array,required:!0},interests:{type:Array,required:!0}},data:function(){return{loggedIn:!!window.CAROLUS_ENV.USER_TOKEN,interestsLayoutImage:pe,rendering:this.domains.map((function(t){return{domain:t,content:""}})),interestingDomainIds:this.interests.map((function(t){return t.domain_id})),currentInterests:this.interests,loadingCount:0}},computed:{loading:function(){return this.loadingCount>0},followingCount:function(){return he()(this.domains.map((function(t){return t.id})),this.interestingDomainIds).length}},methods:{interestForDomain:function(t){return this.currentInterests.find((function(e){return e.domain_id===t.id}))||null},toggleDomainInterest:function(t,e,n){n?(this.interestingDomainIds.push(t),this.currentInterests.push(e)):this.interestingDomainIds=this.interestingDomainIds.filter((function(e){return e!==t}))},requestCuratedContentForDomain:function(t){var e=this;this.loadingCount+=1,Rails.ajax({url:"/".concat(t.slug,"/site_home"),type:"GET",success:function(n){e.loadingCount-=1,e.rendering.find((function(e){return e.domain.id===t.id})).content=n.body.innerHTML},error:function(){e.loadingCount-=1,e.rendering.find((function(e){return e.domain.id===t.id})).content=""}})},updateCurateSectionRenderingForInterests:function(){var t=this;this.rendering.forEach((function(e){t.interestingDomainIds.includes(e.domain.id)?""===e.content&&t.requestCuratedContentForDomain(e.domain):e.content=""}))}},watch:{interestingDomainIds:function(){this.updateCurateSectionRenderingForInterests()},loading:function(){var t=this;this.loading||this.$nextTick((function(){q(),t.loggedIn&&ge.updateDOMWithBookmarks()}))}},created:function(){this.updateCurateSectionRenderingForInterests()},components:{LoadingSkeletonCards:tt,ToggleButton:x,AddButton:k}}),ve=(0,_.Z)(me,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"l-follow-pillars"},[n("div",{staticClass:"l-block l-block--1200 l-flex l-flex-align-center"},[n("h3",[t._v("Following \xb7 "+t._s(t.followingCount))]),t._v(" "),n("ul",{staticClass:"l-flex l-flex-align-center"},t._l(t.domains,(function(e){return n("li",{key:e.id},[n("ToggleButton",{attrs:{domain:e,initialInterest:t.interestForDomain(e),loggedIn:!0,eventCategory:"home_curated_"+e.slug+"Follow"},on:{toggle:t.toggleDomainInterest}})],1)})),0)])]),t._v(" "),t.loading?n("LoadingSkeletonCards"):n("div",{staticClass:"l-padding-bottom-120"},t._l(t.rendering,(function(e){return""!==e.content?n("div",{key:e.domain.id,domProps:{innerHTML:t._s(e.content)}}):t._e()})),0),t._v(" "),0===t.interestingDomainIds.length?n("div",{staticClass:"c-empty-state c-empty-state--following"},[n("div",{staticClass:"l-inline-block l-relative"},[n("div",{staticClass:"c-search__no-results"},[n("img",{staticClass:"c-empty-state__artwork",attrs:{src:t.interestsLayoutImage,alt:"interests"}}),t._v(" "),n("h3",[t._v("There's nothing here. Get started...")]),t._v(" "),n("h4",{staticClass:"l-margin-18--i"},[t._v("Try these adding one of these platforms")]),t._v(" "),n("div",{staticClass:"c-search__tags"},t._l(t.domains,(function(e){return n("AddButton",{key:e.id,attrs:{domain:e,eventCategory:"home_curated_"+e.slug+"Follow"},on:{toggle:t.toggleDomainInterest}})})),1)])])]):t._e()],1)}),[],!1,null,null,null).exports,ye=u.Z.extend({name:"MyInterests",props:{domains:{type:Array,required:!1},interests:{type:Array,required:!1}},data:function(){return{currentInterests:this.interests}},methods:{toggle:function(t){this.following(t)?this.remove(t):this.add(t)},interestForDomain:function(t){return this.currentInterests.find((function(e){return e.domain_id===t.id}))||null},following:function(t){return!!this.interestForDomain(t)},add:function(t){var e=this;this.networkOperationInProgress=!0;var n=new FormData;n.append("interest[domain_id]",t.id),Rails.ajax({url:"/interests",type:"POST",data:n,success:function(n){e.currentInterests.push(n),e.networkOperationInProgress=!1,e.emitToggleNotification(t,!0)}})},remove:function(t){var e=this,n=this.interestForDomain(t);Rails.ajax({url:"/interests/".concat(n.id),type:"DELETE",success:function(){e.currentInterests=e.currentInterests.filter((function(e){return e.domain_id!==t.id})),e.emitToggleNotification(t,!1)}})},emitToggleNotification:function(t,e){e?m.N.$emit(v.a7,"You are now following ".concat(t.name,"."),!0):m.N.$emit(v.a7,"You are no longer following ".concat(t.name,"."),!0),m.N.$emit(v.$4)}}}),be=(0,_.Z)(ye,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"c-nav-sidebar__section--header",attrs:{id:"nav-section-7"}},[n("div",{staticClass:"c-nav-sidebar__section"},[n("span",{staticClass:"l-flex l-margin-right-9 l-padding-9"},[n("svg",{staticClass:"l-svg-color-night-white"},[n("use",{attrs:{"xlink:href":"#cog"}})])]),t._v(" "),n("span",{staticClass:"l-font-header l-font-bold l-padding-9"},[t._v("My Interests")])]),t._v(" "),n("p",{staticClass:"l-color-grey l-font-14 l-color-grey--dark"},[t._v("Customize your home page with the platforms and languages that interest you.")]),t._v(" "),n("ul",{staticClass:"c-list-filter l-margin-15"},t._l(t.domains,(function(e){return n("li",[n("label",{staticClass:"o-checkbox o-checkbox--small"},[n("input",{staticClass:"checkbox__input",attrs:{type:"checkbox"},domProps:{checked:t.following(e)},on:{change:function(n){return t.toggle(e)}}}),t._v(" "),n("span",{staticClass:"checkbox__indicator"},[n("svg",[n("use",{attrs:{"xlink:href":"#checkmark"}})])])]),t._v(" "),n("span",{staticClass:"c-list-filter__label"},[t._v(t._s(e.name))])])})),0)])])}),[],!1,null,null,null).exports,_e=u.Z.extend({name:"MyInterests",props:{domains:{type:Array,required:!1},interests:{type:Array,required:!1}},data:function(){return{currentInterests:this.interests}},watch:{currentInterests:function(){document.getElementById("my-interests-label").innerHTML=this.currentInterestsLabel()}},methods:{toggle:function(t){this.following(t)?this.remove(t):this.add(t)},domainForInterest:function(t){return this.domains.find((function(e){return t.domain_id===e.id}))||null},interestForDomain:function(t){return this.currentInterests.find((function(e){return e.domain_id===t.id}))||null},currentInterestsLabel:function(){return console.log(this.currentInterests),1===this.currentInterests.length?this.domainForInterest(this.currentInterests[0]).name:this.currentInterests.length>1?"".concat(this.domainForInterest(this.currentInterests[0]).name," +").concat(this.currentInterests.length-1):"All"},following:function(t){return!!this.interestForDomain(t)},add:function(t){var e=this;this.networkOperationInProgress=!0;var n=new FormData;n.append("interest[domain_id]",t.id),Rails.ajax({url:"/interests",type:"POST",data:n,success:function(n){e.currentInterests.push(n),e.networkOperationInProgress=!1,e.emitToggleNotification(t,!0)}})},remove:function(t){var e=this,n=this.interestForDomain(t);Rails.ajax({url:"/interests/".concat(n.id),type:"DELETE",success:function(){e.currentInterests=e.currentInterests.filter((function(e){return e.domain_id!==t.id})),e.emitToggleNotification(t,!1)}})},emitToggleNotification:function(t,e){e?m.N.$emit(v.a7,"You are now following ".concat(t.name,"."),!0):m.N.$emit(v.a7,"You are no longer following ".concat(t.name,"."),!0),m.N.$emit(v.$4)}}}),ke=(0,_.Z)(_e,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"o-dropdown-menu o-dropdown-menu--dark c-list-filter l-menu-interests-dropdown l-margin-15"},t._l(t.domains,(function(e){return n("li",[n("label",{staticClass:"o-checkbox o-checkbox--small"},[n("input",{staticClass:"checkbox__input",attrs:{type:"checkbox"},domProps:{checked:t.following(e)},on:{change:function(n){return t.toggle(e)}}}),t._v(" "),n("span",{staticClass:"checkbox__indicator"},[n("svg",[n("use",{attrs:{"xlink:href":"#checkmark"}})])])]),t._v(" "),n("span",{staticClass:"c-list-filter__label"},[t._v(t._s(e.name))])])})),0)}),[],!1,null,null,null).exports,Ce=u.Z.extend({name:"flash",data:function(){return{timeout:null,variant:"danger",message:null}},props:{transitionName:{type:String,default:"custom-classes-transition"},transitionIn:{type:String,default:"animated animated--half a-slide-in-up"},transitionOut:{type:String,default:"animated animated--half a-slide-out-down"},duration:{type:Number,default:3e3},autoHide:{type:Boolean,default:!1}},computed:{variantClass:function(){return"o-alert l-alert-sticky alert-dismissible o-alert--".concat(this.variant)},show:function(){return null!==this.message}},watch:{message:function(t){null!==t&&this.autoHide&&this.autoClose()}},methods:{closeFlash:function(){this.clearFlash(),this.timeout&&clearTimeout(this.timeout)},clearFlash:function(){this.message=null},autoClose:function(){var t=this;null!==this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.closeFlash()}),this.duration)}},created:function(){var t=this;m.N.$on(v.ax,(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.message=e,t.variant="danger",n&&t.autoClose()})),m.N.$on(v.rB,(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.message=e,t.variant="warning",n&&t.autoClose()})),m.N.$on(v.a7,(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.message=e,t.variant="success",n&&t.autoClose()})),m.N.$on(v.Dx,(function(){t.message=null}))},destroyed:function(){null!==this.timeout&&clearTimeout(this.timeout)}}),we=(0,_.Z)(Ce,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transitionName,"enter-active-class":t.transitionIn,"leave-active-class":t.transitionOut}},[t.show?n("div",{staticClass:"l-admin-alert-sticky",class:t.variantClass,attrs:{role:"alert","aria-live":"polite","aria-atomic":"true"}},[n("button",{staticClass:"o-alert__close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.closeFlash.apply(null,arguments)}}},[n("span",{attrs:{"aria-hidden":"true"}},[n("svg",{staticClass:"l-button__svg-close"},[n("use",{attrs:{"xlink:href":"#plus"}})])])]),t._v("\n    "+t._s(t.message)+"\n  ")]):t._e()])}),[],!1,null,null,null).exports,Se=u.Z.extend({name:"RatingStar",props:{filled:{type:Boolean,default:!1}}}),xe=(0,_.Z)(Se,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.filled?n("span",[n("span",{staticClass:"o-icon-button o-icon-button--small c-rate__star c-rate__star--green"},[n("i",[n("svg",{staticClass:"o-button__svg--white l-button__svg-star"},[n("use",{attrs:{"xlink:href":"#star"}})])])])]):n("span",[n("span",{staticClass:"o-icon-button o-icon-button--small c-rate__star"},[n("i",[n("svg",{staticClass:"o-button__svg--white l-button__svg-star"},[n("use",{attrs:{"xlink:href":"#star"}})])])])])}),[],!1,null,"3ef78fab",null).exports;function Te(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var o,r,i=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(o=n.next()).done)&&(i.push(o.value),!e||i.length!==e);s=!0);}catch(l){a=!0,r=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return Oe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Pe=u.Z.extend({name:"RateAndReview",props:{updateUrl:{type:String,required:!0},initialRating:{type:Object,required:!0}},data:function(){return{rating:this.initialRating.rating||0,displayRating:this.initialRating.rating,networkOperationInProgress:!1}},computed:{rated:function(){return!!this.rating}},methods:{starClick:function(t){this.sendUpdate({score:t})},sendUpdate:function(t){var e=this;this.networkOperationInProgress=!0;var n=new FormData;Object.entries(t).forEach((function(t){var e=Te(t,2),o=e[0],r=e[1];n.append("rating[".concat(o,"]"),r)})),Rails.ajax({url:this.updateUrl,type:"POST",data:n,dataType:"json",success:function(t){e.rating=t.rating,e.displayRating=t.rating},complete:function(){e.networkOperationInProgress=!1}})}},components:{RatingStar:xe}}),Ee=(0,_.Z)(Pe,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"c-add-rating l-block--card-medium l-block l-padding-30",attrs:{id:"c-add-rating"}},[n("div",{staticClass:"l-text-align-center"},[n("h3",{staticClass:"l-font-header l-font-17 l-font-bold"},[t._v("Add a rating for this content")]),t._v(" "),n("div",{staticClass:"l-margin-15"},t._l(5,(function(e){return n("RatingStar",{key:e,attrs:{filled:e<=t.displayRating},nativeOn:{click:function(n){return t.starClick(e)},mouseover:function(n){t.displayRating=e},mouseleave:function(e){t.displayRating=t.rating||0}}})})),1)]),t._v(" "),t.rated?n("div",{staticClass:"l-text-align-center l-margin-15"},[n("span",{staticClass:"l-color-grey l-font-15"},[t._v("Thanks for your rating!")])]):t._e()])}),[],!1,null,null,null).exports,Ae="rw-carolus-promotions",Le=function(t){return(0,h.ej)(t,JSON.parse)};function Ie(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=Array.from(t.querySelectorAll("[data-dismissible]"));e.forEach((function(t){var e=t,n=e.dataset.dismissiblePromotion,o=e.dataset.dismissibleEventUri,r=e.dataset.dismissibleEventName;Ne(n)&&Re(e);var i=e.querySelectorAll("[data-dismissible-button]");Array.from(i).forEach((function(t){t.addEventListener("click",(function(){je(e,{promotion:n,eventUri:o,eventName:r})}))}))}))}var je=function(t,e){Be(e),$e(e),Re(t)},Re=function(t){t.style.display="none"},Ne=function(t){if(!t||""===t)return!1;var e=Le(Ae);return!(!e||!e[t])&&e[t]},Be=function(t){var e=t.promotion;if(e&&""!==e){var n=Le(Ae)||{};n[e]=!0,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,h.d8)(t,e,JSON.stringify,n)}(Ae,n,{expires:"10Y"})}},$e=function(t){var e=t.eventUri,n=t.eventName;if(!e||""===e||!n||""===n)return!1;var o=new FormData;o.append("event_name",n),Rails.ajax({data:o,url:e,type:"PUT",dataType:"json",accept:"json",error:function(t,e,n){console.error("There was a problem sending the dismissal notification: ".concat(t))}})},qe={props:{relativeElementSelector:{type:String,required:!0},offset:{type:Object,default:function(){return{top:40,bottom:40}}},enabled:{type:Boolean,default:!0},scrollAffix:{type:Boolean,default:!1}},computed:{relativeElement:function(){return document.querySelector(this.relativeElementSelector)}},data:function(){return{affixHeight:null,affixBottomPos:null,affixRect:null,relativeElmBottomPos:null,relativeElmOffsetTop:null,topPadding:null,lastState:null,currentState:null,currentScrollAffix:null,distanceFromTop:window.pageYOffset,lastDistanceFromTop:window.pageYOffset,scrollingUp:null,scrollingDown:null}},methods:{setDynamicVariables:function(){this.distanceFromTop=window.pageYOffset,this.affixRect=this.$el.getBoundingClientRect(),this.affixHeight=this.$el.offsetHeight,this.affixBottomPos=this.distanceFromTop+this.affixRect.bottom,this.screenBottomPos=this.distanceFromTop+window.innerHeight,this.relativeElmBottomPos=this.distanceFromTop+this.relativeElement.getBoundingClientRect().bottom,this.relativeElmOffsetTop=this.getOffsetTop(this.relativeElement)},onScroll:function(){this.enabled?(this.setDynamicVariables(),this.affixHeight+this.offset.top>=this.relativeElement.offsetHeight||this.handleAffix()):this.removeClasses()},handleAffix:function(){if(this.scrollAffix&&this.affixHeight>window.innerHeight)return this.setScrollingDirection(),"scrollaffix-top"===this.currentScrollAffix&&this.distanceFromTop+this.offset.top>=this.affixInitialTop&&this.setScrollAffixScrolling(),this.scrollingDown&&"scrollaffix-scrolling"===this.currentScrollAffix&&this.screenBottomPos>=this.affixBottomPos+this.offset.bottom&&this.screenBottomPos<this.relativeElmBottomPos&&this.setScrollAffixDown(),this.scrollingUp&&"scrollaffix-scrolling"===this.currentScrollAffix&&this.distanceFromTop+this.offset.top+this.topPadding<this.affixRect.top+this.distanceFromTop&&this.setScrollAffixUp(),this.scrollingDown&&"scrollaffix-down"===this.currentScrollAffix&&this.screenBottomPos>=this.relativeElmBottomPos+this.offset.bottom&&this.setScrollAffixBottom(),"scrollaffix-bottom"===this.currentScrollAffix&&this.screenBottomPos<this.relativeElmBottomPos&&this.setScrollAffixScrolling(),(this.scrollingUp&&"scrollaffix-down"===this.currentScrollAffix||this.scrollingDown&&"scrollaffix-up"===this.currentScrollAffix)&&this.setScrollAffixScrolling(),this.scrollingUp&&"scrollaffix-up"===this.currentScrollAffix&&this.distanceFromTop<this.relativeElmOffsetTop-this.offset.top&&this.setScrollAffixTop(),this.lastScrollAffixState=this.currentScrollAffix,void(this.lastDistanceFromTop=this.distanceFromTop);this.distanceFromTop<this.relativeElmOffsetTop-this.offset.top&&this.setAffixTop(),this.distanceFromTop>=this.relativeElmOffsetTop-this.offset.top&&this.relativeElmBottomPos-this.offset.bottom>=this.distanceFromTop+this.topPadding+this.affixHeight+this.offset.top&&this.setAffix(),this.relativeElmBottomPos-this.offset.bottom<this.distanceFromTop+this.topPadding+this.affixHeight+this.offset.top&&this.setAffixBottom(),this.lastState=this.currentState},initScrollAffix:function(){this.distanceFromTop<this.affixInitialTop-this.offset.top?this.setScrollAffixTop():this.screenBottomPos>=this.affixBottomPos+this.offset.bottom&&this.screenBottomPos<this.relativeElmBottomPos?this.setScrollAffixDown():this.screenBottomPos>=this.relativeElmBottomPos?this.setScrollAffixBottom():this.setScrollAffixScrolling()},setScrollAffixScrolling:function(){this.currentScrollAffix="scrollaffix-scrolling",this.$el.style.top="".concat(this.affixRect.top+this.distanceFromTop-this.affixInitialTop,"px"),this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollAffixUp:function(){this.currentScrollAffix="scrollaffix-up",this.currentScrollAffix!==this.lastState&&(this.$el.style.top="".concat(this.topPadding+this.offset.top,"px"),this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent(),this.$el.classList.add("affix"))},setScrollAffixDown:function(){this.currentScrollAffix="scrollaffix-down",this.currentScrollAffix!==this.lastState&&(this.$el.style.bottom="".concat(this.offset.bottom,"px"),this.$el.style.top="auto",this.removeClasses(),this.emitEvent(),this.$el.classList.add("affix"))},setScrollAffixTop:function(){this.currentScrollAffix="scrollaffix-top",this.$el.style.top=0,this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollAffixBottom:function(){this.currentScrollAffix="scrollaffix-bottom",this.$el.style.top="".concat(this.relativeElmBottomPos-this.affixInitialTop-this.affixHeight,"px"),this.$el.style.bottom="auto",this.removeClasses(),this.emitEvent()},setScrollingDirection:function(){this.distanceFromTop>this.lastDistanceFromTop?(this.scrollingDown=!0,this.scrollingUp=!1):(this.scrollingUp=!0,this.scrollingDown=!1)},setAffixTop:function(){this.currentState="affix-top",this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.$el.classList.remove("affix"),this.$el.classList.add("affix-top"),this.$el.style.top=null)},setAffix:function(){this.currentState="affix",this.$el.style.top="".concat(this.topPadding+this.offset.top,"px"),this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.$el.classList.add("affix"))},setAffixBottom:function(){this.currentState="affix-bottom",this.$el.style.top="".concat(this.relativeElement.offsetHeight-this.affixHeight-this.offset.bottom-this.topPadding,"px"),this.currentState!==this.lastState&&(this.emitEvent(),this.removeClasses(),this.$el.classList.add("affix-bottom"))},removeClasses:function(){this.$el.classList.remove("affix-top"),this.$el.classList.remove("affix"),this.$el.classList.remove("affix-bottom")},emitEvent:function(){this.scrollAffix&&this.lastScrollAffixState&&this.$emit(this.currentScrollAffix.replace("-","")),this.lastState&&this.$emit(this.currentState.replace("-",""))},getOffsetTop:function(t){for(var e=0,n=t;n;)e+=n.offsetTop,n=n.offsetParent;return e}},mounted:function(){this.$el.classList.add("vue-affix"),this.affixInitialTop=this.getOffsetTop(this.$el),this.topPadding=this.affixInitialTop-this.getOffsetTop(this.relativeElement),this.setDynamicVariables(),this.scrollAffix&&this.initScrollAffix(),this.onScroll(),window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)}},Ze=(0,_.Z)(qe,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._t("default")],2)}),[],!1,null,null,null).exports,Ue=u.Z.extend({name:"TableOfContents",props:{content:{required:!0,type:String},containerClass:{required:!1,type:String},affixSelector:{required:!1,type:String},withOffset:{default:!1,type:Boolean},enableProgressionTracking:{default:!1,type:Boolean}},data:function(){return{networkOperationInProgress:!1,offset:144,scrollOffset:72}},methods:{onItemChanged:function(t,e,n){e&&e.dataset.scrollactiveContentId&&e.dataset.scrollactiveProgress&&this.enableProgressionTracking&&this.updateProgression(e.dataset.scrollactiveContentId,e.dataset.scrollactiveProgress)},updateProgression:function(t,e){var n=this;this.networkOperationInProgress=!0;var o=new FormData;o.append("progression[content_id]",t),o.append("progression[progress]",e),Rails.ajax({url:"/progressions",type:"POST",data:o,dataType:"json",complete:function(){n.networkOperationInProgress=!1},error:function(t,e,o){console.log(t),422===o.status&&n.resetCSRFToken()}})},resetCSRFToken:function(){Rails.ajax({url:"/csrf_token",type:"GET",dataType:"json",success:function(t){t.csrf_token&&document.querySelector('meta[name="csrf-token"]').setAttribute("content",t.csrf_token)},beforeSend:function(t){return!0}})}},components:{Affix:Ze}}),Me=(0,_.Z)(Ue,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.affixSelector?n("Affix",{attrs:{"relative-element-selector":t.affixSelector,offset:{top:0,bottom:-50},"scroll-affix":!1}},[n("scrollactive",{class:t.containerClass,domProps:{innerHTML:t._s(t.content)}})],1):t.withOffset?n("scrollactive",{class:t.containerClass,attrs:{offset:t.offset,scrollOffset:t.scrollOffset},domProps:{innerHTML:t._s(t.content)},on:{itemchanged:t.onItemChanged}}):n("scrollactive",{class:t.containerClass,domProps:{innerHTML:t._s(t.content)},on:{itemchanged:t.onItemChanged}})}),[],!1,null,null,null).exports;function Fe(t){return function(t){if(Array.isArray(t))return De(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return De(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function He(){Fe(document.querySelectorAll("[data-table-of-contents]")).forEach((function(t){var e=t.dataset,n=e.withOffset,o=e.enableProgressionTracking,r=!!o&&JSON.parse(o);new Me({propsData:{containerClass:t.className,content:t.innerHTML,affixSelector:t.dataset.affixSelector,withOffset:!!n&&JSON.parse(n),enableProgressionTracking:r}}).$mount(t)}))}var Ve=u.Z.extend({name:"DynamicLoader",props:{url:{required:!0,type:String},listenEvent:{required:!0,type:String},content:{required:!0,type:String}},data:function(){return{html:this.content}},created:function(){var t=this;m.N.$on(this.listenEvent,(function(){t.fetchContent()}))},methods:{fetchContent:function(){var t=this;Rails.ajax({url:this.url,type:"GET",success:function(e){t.html=e.body.innerHTML,Ie(),He()}})}}}),ze=(0,_.Z)(Ve,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{domProps:{innerHTML:t._s(t.html)}})}),[],!1,null,null,null).exports,Ye={data:function(){return{selectedIndex:0}},created:function(){var t=this,e=this.validClasses.findIndex((function(e){return t.currentClassName===e}));e<0&&(e=Math.floor((this.validClasses.length-1)/2)),this.selectedIndex=e},watch:{selectedIndex:function(){this.currentClassName=this.validClasses[this.selectedIndex]}}},Ke=function(t){return(0,h.ej)(t,JSON.parse)||{}},We=function(t,e,n){return(0,h.d8)(t,e,JSON.stringify,n)},Ge={props:{cookieName:{type:String,required:!0},cookieField:{type:String,required:!0},element:{type:Element,default:function(){return document.body}},validClasses:{type:Array,required:!0},defaultClass:{type:String},trackedEventCategory:{type:String,required:!0},trackedEventAction:{type:String,default:"book"}},data:function(){return{currentClassName:this.initialClass()}},methods:{currentlyInstalledClass:function(){var t=this;return this.validClasses.find((function(e){return t.element.classList.contains(e)}))},setClass:function(){this.element.classList.remove(this.currentlyInstalledClass()),this.element.classList.add(this.currentClassName)},initialClass:function(){try{return Ke(this.cookieName)[this.cookieField]||this.currentlyInstalledClass()||this.defaultClass||this.validClasses[0]}catch(t){return We(this.cookieName,{},{expires:"0"}),this.defaultClass||this.validClasses[0]}}},created:function(){this.setClass()},watch:{currentClassName:function(){this.setClass();var t=Ke(this.cookieName);t[this.cookieField]=this.currentClassName,We(this.cookieName,t,{expires:"10Y"}),(0,y.q)(this.trackedEventCategory,this.trackedEventAction)}}},Qe=["l-page-size-456","l-page-size-572","l-page-size-688","l-page-size-920","l-page-size-1036"],Je=u.Z.extend({name:"PageSize",mixins:[Ge,Ye],props:{validClasses:{type:Array,default:function(){return Qe}},defaultClass:{type:String,default:"l-page-size-688"},cookieField:{type:String,default:"page-size"},trackedEventCategory:{type:String,default:"book_chapter_readingExperiencePageSize"}}}),Xe=(0,_.Z)(Je,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Page Size")]),t._v(" "),n("div",{staticClass:"l-margin-15 c-reading-experience-selector__range-wrapper"},[n("span",[n("svg",{staticClass:"o-button__svg--grey-regent l-width-14"},[n("use",{attrs:{"xlink:href":"#layout"}})])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedIndex,expression:"selectedIndex"}],staticClass:"c-reading-experience-selector__range",attrs:{type:"range",min:"0",max:t.validClasses.length-1},domProps:{value:t.selectedIndex},on:{__r:function(e){t.selectedIndex=e.target.value}}}),t._v(" "),n("span",[n("svg",{staticClass:"o-button__svg--grey-regent l-width-21"},[n("use",{attrs:{"xlink:href":"#layout"}})])])])])}),[],!1,null,null,null).exports,tn=["l-chapter-text-size-75","l-chapter-text-size-80","l-chapter-text-size-85","l-chapter-text-size-90","l-chapter-text-size-100","l-chapter-text-size-110","l-chapter-text-size-120","l-chapter-text-size-130","l-chapter-text-size-140"],en=u.Z.extend({name:"TextSize",mixins:[Ge,Ye],props:{validClasses:{type:Array,default:function(){return tn}},defaultClass:{type:String,default:"l-chapter-text-size-100"},cookieField:{type:String,default:"text-size"},trackedEventCategory:{type:String,default:"book_chapter_readingExperienceTextSize"}}}),nn=(0,_.Z)(en,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Text Size")]),t._v(" "),n("div",{staticClass:"l-margin-15 c-reading-experience-selector__range-wrapper"},[n("span",[n("svg",{staticClass:"o-button__svg--grey-regent l-width-21"},[n("use",{attrs:{"xlink:href":"#letters"}})])]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedIndex,expression:"selectedIndex"}],staticClass:"c-reading-experience-selector__range",attrs:{type:"range",min:"0",max:t.validClasses.length-1},domProps:{value:t.selectedIndex},on:{__r:function(e){t.selectedIndex=e.target.value}}}),t._v(" "),n("span",[n("svg",{staticClass:"o-button__svg--grey-regent"},[n("use",{attrs:{"xlink:href":"#letters"}})])])])])}),[],!1,null,null,null).exports,on={"l-chapter-font-serif":"Classic","l-chapter-font-sans-serif":"Modern"},rn=u.Z.extend({name:"TextStyle",mixins:[Ge],props:{validClasses:{type:Array,default:function(){return Object.keys(on)}},defaultClass:{type:String,default:Object.keys(on)[0]},cookieField:{type:String,default:"text-style"},trackedEventCategory:{type:String,default:"book_chapter_readingExperienceTextStyle"}},methods:{displayName:function(t){return on[t]}}}),sn=(0,_.Z)(rn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("Text Style")]),t._v(" "),n("div",{staticClass:"l-grid-2-fr l-grid-col-gap-12 l-margin-15"},t._l(t.validClasses,(function(e){return n("span",{key:e,staticClass:"c-reading-experience-selector__checkbox--large",class:e},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentClassName,expression:"currentClassName"}],staticClass:"c-reading-experience-selector__radio",attrs:{type:"radio"},domProps:{value:e,checked:t._q(t.currentClassName,e)},on:{change:function(n){t.currentClassName=e}}}),t._v(" "),n("span"),t._v(" "),n("label",[t._v(t._s(t.displayName(e)))])])})),0)])}),[],!1,null,null,null).exports,an=u.Z.extend({name:"ReadingExperienceSwitcher",props:{cookieName:{type:String,default:"reading-experience"}},data:function(){return{visible:!1}},methods:{toggleVisibility:function(){this.visible=!this.visible},dismiss:function(){this.visible=!1}},mounted:function(){var t=this;document.querySelectorAll("[data-reading-experience-switcher-trigger]").forEach((function(e){e.addEventListener("click",(function(e){t.toggleVisibility()}))})),this.$el.addEventListener("click",(function(t){t.stopPropagation()})),document.body.addEventListener("click",(function(e){null==e.target.closest("[data-reading-experience-switcher-trigger]")&&t.dismiss()}))},components:{NightModeToggle:te,PageSize:Xe,TextSize:nn,TextStyle:sn}}),ln=(0,_.Z)(an,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.visible?n("div",{staticClass:"c-reading-experience-selector"},[n("ul",[n("NightModeToggle")],1),t._v(" "),n("TextStyle",{attrs:{cookieName:t.cookieName}}),t._v(" "),n("TextSize",{attrs:{cookieName:t.cookieName}}),t._v(" "),n("PageSize",{attrs:{cookieName:t.cookieName}}),t._v(" "),n("button",{staticClass:"o-alert__close",on:{click:t.dismiss}},[n("svg",{staticClass:"l-svg-color-grey-regent l-svg-color-night-grey-chateau l-button__svg-close--button"},[n("use",{attrs:{"xlink:href":"#plus"}})])])],1):t._e()])}),[],!1,null,null,null).exports,cn=u.Z.extend({name:"Annotation",props:{annotation:{required:!0,type:Object}},data:function(){return{note:this.annotation.note,editing:!1}},computed:{text:function(){return this.annotation.text},notebookClasses:function(){return"c-notebook__entry c-notebook__entry--".concat(this.annotation.colour)}},methods:{saveNote:function(){this.editing=!1,this.$emit("updateNote",this.annotation.id,this.note)},removeNote:function(){this.editing=!1,this.note=null,this.$emit("updateNote",this.annotation.id,this.note)},unhighlight:function(){this.$emit("delete",this.annotation.id)}}}),un=(0,_.Z)(cn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.notebookClasses},[n("a",{attrs:{href:t.annotation.url}},[n("h4",[t._v("Chapter "+t._s(t.annotation.content_display_number)+". "+t._s(t.annotation.content_name))])]),t._v(" "),n("a",{attrs:{href:t.annotation.url}},[n("div",{staticClass:"c-notebook__entry-text",domProps:{innerHTML:t._s(t.text)}})]),t._v(" "),n("div",{staticClass:"c-notebook__entry-note"},[t.editing?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note,expression:"note"}],staticClass:"o-textarea",domProps:{value:t.note},on:{input:function(e){e.target.composing||(t.note=e.target.value)}}}):n("span",[t._v(t._s(t.note))])]),t._v(" "),n("div",{staticClass:"c-notebook__actions l-margin-9"},[t.editing?n("span",{staticClass:"c-notebook__action",on:{click:t.saveNote}},[t._v("Save")]):n("span",[t.note&&t.note.length>0?n("span",{staticClass:"c-notebook__action",on:{click:function(e){t.editing=!0}}},[t._v("Edit")]):n("span",{staticClass:"c-notebook__action",on:{click:function(e){t.editing=!0}}},[t._v("Add Note")])]),t._v(" "),t.note&&t.note.length>0?n("span",{staticClass:"l-margin-sides-3"},[t._v("\xb7")]):t._e(),t._v(" "),t.note&&t.note.length>0?n("span",{staticClass:"c-notebook__action l-margin-right-auto",on:{click:t.removeNote}},[t._v("Remove")]):t._e(),t._v(" "),n("span",{staticClass:"c-notebook__action",on:{click:t.unhighlight}},[t._v("Unhighlight")])])])}),[],!1,null,null,null).exports,dn=u.Z.extend({name:"Notebook",props:{title:{required:!0,type:String},contentIds:{required:!0,type:Array}},data:function(){return{annotations:[],visible:!1,firstLoadComplete:!1,showNotebookEraseConfirmation:!1}},watch:{visible:function(){var t=this;this.visible&&Rails.ajax({url:"/annotations",type:"GET",dataType:"json",accept:"json",data:(0,zt.Z)({content_ids:this.contentIds}),success:function(e){t.annotations=e,t.firstLoadComplete=!0}})}},methods:{toggleVisibility:function(){this.visible=!this.visible},dismiss:function(){this.visible=!1},deleteAnnotation:function(t){var e=this;Rails.ajax({url:"/annotations/".concat(t),type:"DELETE",success:function(){var n=e.annotations.find((function(e){return e.id===t}));m.N.$emit(v.bx,e,n.fragment_id,t),e.annotations=e.annotations.filter((function(e){return e.id!==t}))}})},deleteAllAnnotations:function(){var t=this;Rails.ajax({url:"/annotations",type:"DELETE",dataType:"json",accept:"json",data:(0,zt.Z)({annotation_ids:this.annotations.map((function(t){return t.id}))}),success:function(){t.annotations.forEach((function(e){m.N.$emit(v.bx,t,e.fragment_id,e.id),t.annotations=[],t.showNotebookEraseConfirmation=!1}))}})},updateNote:function(t,e){var n=this,o=this.annotations.find((function(e){return e.id===t})),r=new FormData;r.append("annotation[content_id]",o.content_id),r.append("annotation[colour]",o.colour),r.append("annotation[note]",e),Rails.ajax({url:"/annotations/".concat(t),type:"PUT",data:r,success:function(t){o.note=e,m.N.$emit(v.YY,n,o.fragment_id,o),null===e?m.N.$emit(v.a7,"Your note has been removed.",!0):m.N.$emit(v.a7,"Your note has been updated.",!0)}})}},mounted:function(){var t=this;document.querySelectorAll("[data-notebook-trigger]").forEach((function(e){e.addEventListener("click",(function(e){t.toggleVisibility()}))})),this.$el.addEventListener("click",(function(t){t.stopPropagation()})),document.body.addEventListener("click",(function(e){null==e.target.closest("[data-notebook-trigger]")&&t.dismiss()})),m.N.$on(v.YY,(function(e,n,o){if(e!==t){var r=t.annotations.find((function(t){return t.id===o.id}));r&&(r.note=o.note,r.colour=o.colour)}})),m.N.$on(v.bx,(function(e,n,o){e!==t&&(t.annotations=t.annotations.filter((function(t){return t.id!==o})))}))},components:{Annotation:un}}),fn=(0,_.Z)(dn,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.visible?o("div",{staticClass:"c-notebook"},[o("div",[t.annotations.length>0&&!t.showNotebookEraseConfirmation?o("button",{staticClass:"c-notebook__title-actions c-notebook__erase o-button-tooltip",on:{click:function(e){t.showNotebookEraseConfirmation=!0}}},[o("svg",{staticClass:"o-button__svg--grey l-svg-notebook-bin"},[o("use",{attrs:{"xlink:href":"#bin"}})]),t._v(" "),o("span",{staticClass:"o-tooltip o-tooltip--arrow-top o-tooltip--arrow-top-right o-tooltip--slim l-tooltip-erase-notebook"},[t._v("Erase Notebook")])]):t._e(),t._v(" "),o("button",{staticClass:"c-notebook__title-actions c-notebook__close o-alert__close",on:{click:t.dismiss}},[o("svg",{staticClass:"l-svg-color-grey-regent l-svg-color-night-grey-chateau l-button__svg-close--button"},[o("use",{attrs:{"xlink:href":"#chevron-vertical"}})])]),t._v(" "),o("h3",[t._v("Notebook \xb7 "+t._s(t.title))]),t._v(" "),t.showNotebookEraseConfirmation?o("div",[o("img",{staticClass:"c-notebook__artwork",attrs:{src:n(63742),alt:""}}),t._v(" "),o("h4",{staticClass:"l-margin-24 l-text-align-center l-font-19"},[t._v("Delete everything in this notebook?")]),t._v(" "),o("p",{staticClass:"l-font-15 l-color-grey l-margin-9 l-text-align-center l-block--card-320 l-margin-left-auto l-margin-right-auto"},[t._v("This will delete all the highlights and notes for this book. After deleting you will not be able to recover them.")]),t._v(" "),o("div",{staticClass:"l-text-align-center"},[o("button",{staticClass:"o-button o-button--red l-margin-18 l-text-align-center",on:{click:t.deleteAllAnnotations}},[o("i",{staticClass:"o-button__icon--left o-button__icon--white"},[o("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--red"},[o("use",{attrs:{"xlink:href":"#bin"}})])]),t._v(" "),o("span",{staticClass:"o-button__label"},[t._v("Delete Notebook")])])]),t._v(" "),o("p",{staticClass:"l-text-align-center  l-margin-9"},[o("a",{staticClass:"l-font-15 l-color-grey l-font-underline l-cursor-pointer",on:{click:function(e){t.showNotebookEraseConfirmation=!1}}},[t._v("Cancel")])])]):t.annotations.length>0?o("div",[o("div",[o("span",{staticClass:"l-font-15 l-color-grey l-font-italic"},[t._v(t._s(t.annotations.length)+" Entries")])]),t._v(" "),o("div",{staticClass:"l-padding-bottom-90"},t._l(t.annotations,(function(e){return o("Annotation",{key:e.id,attrs:{annotation:e},on:{delete:t.deleteAnnotation,updateNote:t.updateNote}})})),1)]):t.firstLoadComplete?o("div",{staticClass:"l-margin-24"},[o("img",{staticClass:"c-notebook__artwork",attrs:{src:n(63742),alt:""}}),t._v(" "),o("h4",{staticClass:"l-font-18 l-margin-24 l-text-align-center"},[t._v("Your notebook is empty!")]),t._v(" "),o("p",{staticClass:"l-font-15 l-color-grey l-margin-9 l-text-align-center l-block--card-320 l-margin-left-auto l-margin-right-auto"},[t._v("This is a place where you can save text, code, and leave notes about what you\u2019re reading.")]),t._v(" "),o("p",{staticClass:"l-font-15 l-color-grey l-margin-9 l-text-align-center l-block--card-320 l-margin-left-auto l-margin-right-auto"},[t._v("To create a note, simply select any text from the chapter right in your browser, and use the notebook tooltip to highlight or add a note:")]),t._v(" "),o("div",{staticClass:"c-notebook__demo"},[o("span",{staticClass:"o-fragment--tooltip"},[o("span",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),o("span",{staticClass:"l-margin-left-10 o-tooltip__action"},[o("span",[o("svg",{staticClass:"o-button__svg--white"},[o("title",[t._v("Remove")]),o("use",{attrs:{"xlink:href":"#bin"}})])])]),t._v(" "),o("span",{staticClass:"o-tooltip__action l-padding-right-0"},[o("svg",{staticClass:"l-button__svg-22 o-button__svg--white"},[o("title",[t._v("Add Note")]),o("use",{attrs:{"xlink:href":"#speech-bubble"}})])])])]),t._v(" "),t._m(6)])]):o("div",{staticClass:"l-margin-24"},[o("img",{staticClass:"c-notebook__artwork",attrs:{src:n(63742),alt:""}}),t._v(" "),t._m(7)])])]):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"o-tooltip__color o-tooltip__color--yellow"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"o-tooltip__color o-tooltip__color--orange"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"o-tooltip__color o-tooltip__color--selected o-tooltip__color--red"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"o-tooltip__color o-tooltip__color--purple"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"o-tooltip__color o-tooltip__color--blue"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",[e("span",{staticClass:"o-tooltip__color o-tooltip__color--green"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"l-text-align-center"},[n("mark",[t._v("If a book is well written, I always find it too short "),n("br"),t._v(" \u2015 Jane Austen")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h4",{staticClass:"l-margin-60 l-text-align-center l-font-19"},[t._v("Loading"),n("span",{staticClass:"c-dot-loader"},[n("span",{staticClass:"a-dot-loader--1"},[t._v(".")]),n("span",{staticClass:"a-dot-loader--2"},[t._v(".")]),n("span",{staticClass:"a-dot-loader--3"},[t._v(".")])])])}],!1,null,null,null).exports,hn=u.Z.extend({name:"UserFeedback",props:{guest:{type:Boolean,required:!0},url:{type:String,required:!0}},data:function(){return{email:"",comments:"",networkOperationInProgress:!1}},computed:{page:function(){return document.location.href},buttonDisabled:function(){return this.networkOperationInProgress||""==this.email&&this.guest||""==this.comments}},methods:{handleSubmit:function(){var t=this;this.networkOperationInProgress=!0;var e=new FormData;e.append("feedback[email]",this.email),e.append("feedback[comments]",this.comments),e.append("feedback[page]",this.page),Rails.ajax({url:this.url,type:"POST",dataType:"json",data:e,success:function(e){m.N.$emit(v.a7,e.message,!0),t.comments=""},error:function(t){m.N.$emit(v.ax,t.message,!0)},complete:function(e){t.networkOperationInProgress=!1}})}},components:{ButtonContent:w.Z}}),pn=(0,_.Z)(hn,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"l-margin-24"},[t.guest?n("div",{staticClass:"l-relative"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"o-input l-full-col",attrs:{placeholder:"stevewozniak@apple.com"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]):t._e(),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comments,expression:"comments"}],staticClass:"o-textarea l-margin-0",attrs:{placeholder:"Feedback about the UI, UX, or other features of the online reader? Leave them here!"},domProps:{value:t.comments},on:{input:function(e){e.target.composing||(t.comments=e.target.value)}}}),t._v(" "),n("button",{staticClass:"o-button--green",attrs:{disabled:t.buttonDisabled},on:{click:t.handleSubmit}},[n("ButtonContent",{attrs:{text:"Send Feedback",saving:t.networkOperationInProgress,svgCheckedHref:"",svgUncheckedHref:""}})],1)])}),[],!1,null,null,null).exports,gn=n(91099);var mn=function(t){var e=t.innerHTML.replace(/\[spoiler.*?\]/g,'<div class="c-spoiler">').replace(/\[\/spoiler\]/g,"</div>");t.innerHTML=e},vn=function(t,e){var n=document.createElement("div");n.classList.add(e),n.innerHTML=t.innerHTML,t.innerHTML="",t.appendChild(n)};var yn=function(){var t;(t=document.getElementById("discourse-comments"))&&(t.innerHTML="");var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="".concat(DiscourseEmbed.discourseUrl,"javascripts/embed.js"),document.getElementsByTagName("head")[0].appendChild(e)};var bn=function(t,e){var n=String(t),o=n.length;return o>=e?n:Array(e-o+1).join("0")+t},_n=function(t,e,n){var o=function(t){var e=Date.parse(t)-Date.now(),n=Math.floor(e/1e3%60),o=Math.floor(e/6e4%60);return{total:e,hours:Math.floor(e/36e5),minutes:o,seconds:n}}(n);o.total<0&&(e.style.display="none",clearInterval(t));var r=e.querySelector("[data-countdown-hours]"),i=e.querySelector("[data-countdown-minutes]"),s=e.querySelector("[data-countdown-seconds]");r&&i&&s&&(r.innerHTML=bn(o.hours,2),i.innerHTML=bn(o.minutes,2),s.innerHTML=bn(o.seconds,2))},kn="rw-carolus-sidebar",Cn="hide-sidebar",wn=function(t){return(0,h.ej)(t,JSON.parse)};var Sn=function(t,e,n){var o=Tn(t,e,n);xn(t,!o,n),On(!o,e)},xn=function(t,e,n){if(e)t.classList.remove("l-admin--sidebar-open"),t.classList.remove("s_show_mobile_menu");else{t.classList.add("l-admin--sidebar-open"),n&&t.classList.add("s_show_mobile_menu");var o=t.getElementsByClassName("c-box-list__item-scroll-to")[0];o&&(o.scrollIntoView(),t.getElementsByClassName("c-video-player__lessons")[0].scrollTop+=-72)}},Tn=function(t,e,n){if(n)return!t.classList.contains("s_show_mobile_menu");var o=wn(kn);return!(!o||!o[e])&&o[e][Cn]},On=function(t,e){var n=wn(kn)||{};n[e]=n[e]||{},n[e][Cn]=t,function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,h.d8)(t,e,JSON.stringify,n)}(kn,n,{expires:"10Y"})};function Pn(t){return function(t){if(Array.isArray(t))return En(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return En(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return En(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function En(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function An(t){return function(t){if(Array.isArray(t))return Ln(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Ln(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ln(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ln(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function In(t){return function(t){if(Array.isArray(t))return jn(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return jn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var Rn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Array.from(t.querySelectorAll("[data-modal-trigger]")).forEach((function(t){var e=t;t.addEventListener("click",(function(){m.N.$emit(v.Hn,e.dataset.modalTrigger)}))}))},Nn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;m.N.$on(v.Hn,(function(e){t.querySelector("[data-modal=".concat(e,"]")).classList.remove("u-hide")})),Array.from(t.querySelectorAll("[data-modal]")).forEach((function(t){var e=t;e.querySelectorAll("[data-modal-dismiss]").forEach((function(t){t.addEventListener("click",(function(){e.classList.add("u-hide")}))}))}))};function Bn(t){return function(t){if(Array.isArray(t))return $n(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return $n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var qn=["a","e","i","o","u","y"],Zn=["b","c","d","f","g","h","j","k","l","m","n","p","q","r","s","t","v","w","x","z"],Un=function(t){return Array.from(t.toLowerCase()).map((function(t){return qn.includes(t)?qn[Math.floor(Math.random()*qn.length)]:Zn[Math.floor(Math.random()*Zn.length)]})).join("")};function Mn(t){return function(t){if(Array.isArray(t))return Fn(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return Fn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n(18535).start(),n(79292).start(),n(62572),n(69216),n.g.Rails=c(),u.Z.use(p.Z),u.Z.use(f()),window.Turbo=a.P,document.addEventListener("turbo:load",(function(){Mn(document.querySelectorAll(".c-written-tutorial")).forEach((function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body;mn(t),Array.from(t.getElementsByClassName("c-spoiler")).forEach((function(t){vn(t,"c-spoiler__answer");var e=document.createElement("button");e.classList.add("o-button","o-button--grey"),e.innerText="Reveal",t.appendChild(e),e.addEventListener("click",(function(){t.classList.add("c-spoiler--revealed")}))}))}(t)})),(0,gn.Z)(),q(),(0,y.Z)(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Array.from(t.querySelectorAll("[data-secondary-href]")).forEach((function(t){var e=t,n=e.dataset.secondaryHref;n&&e.addEventListener("click",(function(){a.P.visit(n)}))}))}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Array.from(t.getElementsByClassName("c-forum-comments__load")).forEach((function(t){var e=t;window.DiscourseEmbed=e.dataset,t.addEventListener("click",yn)}))}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Array.from(t.querySelectorAll("[data-countdown-to-time]")).forEach((function(t){var e=t.dataset.countdownToTime,n=window.setInterval((function(){_n(n,t,e)}),1e3);_n(n,t,e)}))}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelector(".l-admin");if(e){var n=e.dataset.sidebarName;if(n)xn(e,Tn(e,n,!1),!1),Array.from(t.querySelectorAll("[data-sidebar-toggle]")).forEach((function(t){var o=t;o.addEventListener("click",(function(){Sn(e,n,"mobile"===o.dataset.sidebarToggle)}))}))}}(),Pn(document.querySelectorAll("[data-header-toggle]")).forEach((function(t){t.addEventListener("click",(function(){var e=document.querySelector('[data-header-toggle-target="'.concat(t.dataset.headerToggle,'"]'));t.classList.toggle("c-video-player__lessons-header--open"),e.classList.toggle("c-video-player__lesson-list--open")}))})),An(document.querySelectorAll("[data-toggle-css-selector]")).forEach((function(t){t.addEventListener("click",(function(){var e=document.querySelector(t.dataset.toggleCssSelector),n=t.dataset.toggleCssClass;e.classList.toggle(n)}))})),In(document.querySelectorAll("a[data-set-content-permissions-required]")).forEach((function(t){t.addEventListener("click",(function(){(0,h.d8)("content-permissions-required",t.dataset.setContentPermissionsRequired,{expires:"1h",domain:window.CAROLUS_ENV.CONTENT_PERMISSIONS_REQUIRED_COOKIE_DOMAIN})}))})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;Nn(),Rn(t)}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.querySelector("#content-selector");if(e){var n=Bn(e.querySelectorAll("a[data-selector-target]")),o=n.map((function(t){return t.dataset.selectorTarget})).map((function(e){return t.querySelector("#".concat(e))}));n.forEach((function(t){var e=t.dataset.selectorTarget;t.addEventListener("click",(function(){o.forEach((function(t){t.id===e?t.classList.remove("u-hide"):t.classList.add("u-hide")})),n.forEach((function(e){e===t?e.classList.remove("o-button-round--disabled"):e.classList.add("o-button-round--disabled")}))}))}))}}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=Array.from(t.querySelectorAll(".l-obfuscated-text")),n=e.map((function(t){return t.innerText})),o=0;window.setInterval((function(){++o>40?o=0:e.forEach((function(t,e){var r=n[e];t.innerText=o<30?Un(r):r}))}),100)}(),(0,g.Z)("#video_player_modal",Vt),(0,g.Z)("[data-mark-as-complete]",St),(0,g.Z)("[data-mark-complete-wrapper]",Tt),(0,g.Z)(".vue-sticky-smart-banner",Mt),(0,g.Z)("#vue-user-bookmarks",se),(0,g.Z)("#vue-user-content",ce),(0,g.Z)("#vue-user-content-progress",de),(0,g.Z)("#vue-user-curated-content",ve),(0,g.Z)("#vue-my-interests",be),(0,g.Z)("#vue-my-interests-dropdown",ke),(0,g.Z)(".vue-filter-select",vt),(0,g.Z)(".vue-newsletter-signup-button",Dt),(0,g.Z)("#vue-reading-experience-switcher",ln),(0,g.Z)("#vue-notebook",fn),(0,g.Z)("#vue-book-search-overlay",Kt),(0,g.Z)(".facebook-share",Wt.Z),(0,g.Z)(".twitter-share",Gt.Z),(0,g.Z)("#domain_follow_add_button",k),(0,g.Z)(".domain_follow_toggle_button",x),(0,g.Z)("#domain_page_app",rt),(0,g.Z)("#vue-flash",we),(0,g.Z)("#night-mode-toggle",te),(0,g.Z)(".add-rating",Ee),(0,g.Z)("#user-feedback",pn),Mn(document.querySelectorAll("[data-login-required]")).forEach((function(t){new C.Z({propsData:{buttonClass:t.className,buttonContent:t.innerHTML}}).$mount(t)})),Mn(document.querySelectorAll("[data-subscription-required]")).forEach((function(t){new Ct({propsData:{buttonClass:t.className,buttonContent:t.innerHTML}}).$mount(t)})),Mn(document.querySelectorAll("[data-sticky-banner]")).forEach((function(t){new Pt({propsData:{containerClass:t.className,content:t.innerHTML}}).$mount(t)})),Mn(document.querySelectorAll("[data-dynamic-loader]")).forEach((function(t){new ze({propsData:{content:t.innerHTML,url:t.dataset.url,listenEvent:t.dataset.listenEvent}}).$mount(t)}));var t=document.querySelector(".c-nav-sidebar__menu-toggle--opener"),e=document.querySelector(".c-nav-sidebar__menu-toggle--closer"),n=document.querySelector(".c-nav-sidebar__menu-toggle--mobile-opener"),o=document.querySelector(".c-nav-sidebar__menu-toggle--mobile-closer"),r=document.querySelector(".c-nav-sidebar-my-interests"),i=document.querySelector(".l-home-dashboard");null!==t&&t.addEventListener("click",(function(){r&&r.classList.toggle("c-nav-sidebar-my-interests--show"),i&&i.classList.toggle("l-home-dashboard--sidebar"),r&&r.classList.remove("c-nav-sidebar-my-interests--show-mobile"),(0,h.d8)("home-show-sidebar","true",{expires:"10Y"})})),null!==e&&e.addEventListener("click",(function(){r&&r.classList.toggle("c-nav-sidebar-my-interests--show"),i&&i.classList.toggle("l-home-dashboard--sidebar"),r&&r.classList.remove("c-nav-sidebar-my-interests--show-mobile"),(0,h.d8)("home-show-sidebar","false",{expires:"10Y"})})),null!==n&&n.addEventListener("click",(function(){r&&r.classList.remove("c-nav-sidebar-my-interests--show"),r&&r.classList.toggle("c-nav-sidebar-my-interests--show-mobile"),i&&i.classList.remove("l-home-dashboard--sidebar")})),null!==o&&o.addEventListener("click",(function(){r&&r.classList.remove("c-nav-sidebar-my-interests--show"),r&&r.classList.toggle("c-nav-sidebar-my-interests--show-mobile"),i&&i.classList.remove("l-home-dashboard--sidebar")})),"true"===(0,h.ej)("home-show-sidebar")?(r&&r.classList.add("c-nav-sidebar-my-interests--show"),i&&i.classList.add("l-home-dashboard--sidebar")):"false"===(0,h.ej)("home-show-sidebar")&&(r&&r.classList.remove("c-nav-sidebar-my-interests--show"),i&&i.classList.remove("l-home-dashboard--sidebar"));var s=document.querySelectorAll(".o-button-menu"),l=document.getElementById("global-header-nav"),c=document.getElementById("learn-menu-details");s&&s.length>0&&(s.forEach((function(t){t.addEventListener("click",(function(){c.open?(l.classList.remove("c-global-header__nav--show-menu"),c.open=!1):(l.classList.add("c-global-header__nav--show-menu"),c.open=!0)}))})),c.querySelectorAll("a").forEach((function(t){t.addEventListener("click",(function(e){var n="false"===t.getAttribute("data-turbo");e.stopPropagation(),n||(e.preventDefault(),a.P.visit(t.href))}))}))),Ie(),He()}))},63590:function(t,e,n){"use strict";function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var i=function(t){var e=t.dataset;return Object.keys(e).reduce((function(t,n){try{t[n]=JSON.parse(e[n])}catch(o){t[n]=e[n]}return t}),{originalHTML:t.outerHTML})};e.Z=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document,r=n.querySelectorAll(t);o(r).forEach((function(t){new e({propsData:i(t)}).$mount(t)}))}},77926:function(t,e){"use strict";var n={beforeMount:function(){if(this===this.$root&&this.$el){var t=this;document.addEventListener("turbo:visit",(function e(){t.$destroy(),document.removeEventListener("turbo:visit",e)}))}}};e.Z=function(t){t.mixin(n)}},26013:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var o=n(20144).Z.extend({props:{text:{type:String,required:!0},checked:{type:Boolean,default:!1},saving:{type:Boolean,default:!1},iconInputClass:{type:String,default:"o-button__icon--left o-button__icon--input"},svgCheckedClass:{type:String,default:""},svgCheckedHref:{type:String,default:"#"},svgUncheckedClass:{type:String,default:""},svgUncheckedHref:{type:String,default:"#"}}}),r=(0,n(51900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.saving?n("span",{staticClass:"o-button__wrapper"},[n("span",{staticClass:"o-button__loader-text"},[t._v("Saving...")]),t._v(" "),t._m(0)]):n("span",{staticClass:"o-button__wrapper"},[t.checked&&""!==t.svgCheckedHref?n("i",{staticClass:"o-button__icon--left o-button__icon--white"},[n("svg",{staticClass:"o-button__svg",class:t.svgCheckedClass},[n("use",{attrs:{"xlink:href":t.svgCheckedHref}})])]):t.checked||""===t.svgUncheckedHref?t._e():n("i",{class:[t.iconInputClass,"o-button__icon--left"]},[n("svg",{staticClass:"o-button__svg",class:t.svgUncheckedClass},[n("use",{attrs:{"xlink:href":t.svgUncheckedHref}})])]),t._v(" "),n("span",{staticClass:"o-button__label"},[t._v(t._s(t.text))])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"o-loader-pulse l-button__loader-pulse"},[n("span",{staticClass:"o-loader-pulse__bounce-1"}),t._v(" "),n("span",{staticClass:"o-loader-pulse__bounce-2"})])}],!1,null,null,null).exports},79306:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var o=n(20144).Z.extend({name:"FacebookShare",methods:{click:function(){var t=encodeURIComponent(window.location.href);window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(t,"&display=popup"),"facebookShare","toolbar=no,location=no,status=no,menubar=no,scrollbars=,resizable=yes,width=640,height=500")}}}),r=(0,n(51900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"o-button--share",on:{click:function(e){return t.click()}}},[n("i",{staticClass:"o-button__icon o-button__icon--large o-button__icon--medium-grey"},[n("svg",{staticClass:"l-button__svg-facebook-share o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#facebook-icon--white"}})])])])}),[],!1,null,null,null).exports},18269:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var o=n(20144).Z.extend({name:"TwitterShare",props:{content:{type:Object,required:!0}},methods:{click:function(){var t=encodeURIComponent(this.content.name),e=encodeURIComponent(this.content.author_twitter_handle?" by @".concat(this.content.author_twitter_handle):""),n=encodeURIComponent(window.location.href);window.open("https://twitter.com/intent/tweet?text=".concat(t).concat(e,"&url=").concat(n,"&via=").concat("rwenderlich"),"twitterShare","toolbar=no,location=no,status=no,menubar=no,scrollbars=,resizable=yes,width=640,height=240")}}}),r=(0,n(51900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"o-button--share",on:{click:function(e){return t.click()}}},[n("i",{staticClass:"o-button__icon o-button__icon--large o-button__icon--medium-grey"},[n("svg",{staticClass:"l-button__svg-twitter-share o-button__svg--white"},[n("use",{attrs:{"xlink:href":"#twitter-icon--white"}})])])])}),[],!1,null,null,null).exports},3261:function(t,e,n){"use strict";n.d(e,{Z:function(){return c}});var o=n(20144),r=n(9018),i=n(21692),s=n(78109),a=n(10409),l=o.Z.extend({name:"LoginRequired",props:{buttonClass:String,buttonContent:String,signUpPath:{default:(0,s.Z)({signup:!0}),type:String},signInPath:{default:(0,s.Z)({signup:!1}),type:String},eventCategory:{required:!1,type:String},eventAction:{required:!1,type:String},autoClick:{default:!1,type:Boolean}},data:function(){return{createAccountSceneImage:a,showModal:!1}},methods:{recordAccountSignupEvent:function(){(0,i.q)("global_modal_createAccount","createAccount")},handleButtonClick:function(){this.showModal=!0,this.eventCategory&&this.eventAction&&(0,i.q)(this.eventCategory,this.eventAction)}},components:{Modal:r.Z},mounted:function(){this.autoClick&&this.handleButtonClick()}}),c=(0,n(51900).Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showModal?n("Modal",{on:{closeModal:function(e){t.showModal=!1}},scopedSlots:t._u([{key:"graphic",fn:function(){return[n("img",{staticClass:"c-modal__artwork--account",attrs:{src:t.createAccountSceneImage,alt:"Create account"}})]},proxy:!0},{key:"title",fn:function(){return[t._v("With a free raywenderlich.com account "),n("span",{staticClass:"c-modal__subtitle"},[t._v("you can "),n("span",[t._v("download source code")]),t._v(", "),n("span",[t._v("track your progress")]),t._v(", "),n("span",[t._v("bookmark")]),t._v(", personalize your learner profile and more!")])]},proxy:!0},{key:"content",fn:function(){return[n("a",{staticClass:"o-button--green",attrs:{href:t.signUpPath},on:{click:t.recordAccountSignupEvent}},[n("span",{staticClass:"o-button__label"},[t._v("Create Account")]),t._v(" "),n("i",{staticClass:"o-button__icon--right o-button__icon--white"},[n("svg",{staticClass:"l-button__svg-arrow o-button__svg o-button__svg--green"},[n("use",{attrs:{"xlink:href":"#arrow-right"}})])])])]},proxy:!0},{key:"footer",fn:function(){return[n("p",[t._v("Already have an account? "),n("a",{attrs:{href:t.signInPath}},[t._v("Sign In")])])]},proxy:!0}],null,!1,1364657824)}):t._e(),t._v(" "),t.buttonContent?n("button",{class:t.buttonClass,domProps:{innerHTML:t._s(t.buttonContent)},on:{click:t.handleButtonClick}}):n("button",{class:t.buttonClass,on:{click:t.handleButtonClick}},[t._t("default")],2)],1)}),[],!1,null,null,null).exports},9018:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});var o=n(20144).Z.extend({name:"Modal"}),r=(0,n(51900).Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"c-modal c-modal--sign-up"},[n("div",{staticClass:"c-modal-wrapper"},[n("button",{staticClass:"c-modal__close o-icon-button o-button__icon--dark-blue",on:{click:function(e){return t.$emit("closeModal")}}},[n("svg",[n("use",{attrs:{"xlink:href":"#plus--dark-blue"}})])]),t._v(" "),n("div",{staticClass:"c-modal__artwork"},[t._t("graphic")],2),t._v(" "),n("div",{staticClass:"c-modal__copy"},[n("h3",{staticClass:"c-modal__title"},[t._t("title")],2),t._v(" "),n("div",{staticClass:"l-margin-24"},[t._t("content")],2),t._v(" "),n("div",{staticClass:"c-modal__description l-margin-24"},[t._t("footer")],2)])])])])}),[],!1,null,null,null).exports}},function(t){"use strict";t.O(0,[525,145],(function(){return e=37670,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=application-a162193ad88b4fc640b2.js.map